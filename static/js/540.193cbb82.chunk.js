/*! For license information please see 540.193cbb82.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkcleopatra_regalos=self.webpackChunkcleopatra_regalos||[]).push([[540],{614:(e,t,r)=>{r.d(t,{A:()=>a});const a=(0,r(1639).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1419:(e,t,r)=>{r.d(t,{A:()=>a});const a=(0,r(1639).A)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},4131:(e,t,r)=>{r.d(t,{v:()=>n});var a=r(5043);const s=e=>{let t;const r=new Set,a=(e,a)=>{const s="function"===typeof e?e(t):e;if(!Object.is(s,t)){const e=t;t=(null!=a?a:"object"!==typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,o={setState:a,getState:s,getInitialState:()=>c,subscribe:e=>(r.add(e),()=>r.delete(e))},c=t=e(a,s,o);return o},o=e=>e;const c=e=>{const t=(e=>e?s(e):s)(e),r=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;const r=a.useSyncExternalStore(e.subscribe,a.useCallback(()=>t(e.getState()),[e,t]),a.useCallback(()=>t(e.getInitialState()),[e,t]));return a.useDebugValue(r),r}(t,e);return Object.assign(r,t),r},n=e=>e?c(e):c},4319:(e,t,r)=>{r.d(t,{A:()=>a});const a=(0,r(1639).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},4893:(e,t,r)=>{r.d(t,{Zr:()=>c});var a=r(2555);function s(e,t){let r;try{r=e()}catch(a){return}return{getItem:e=>{var a;const s=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),o=null!=(a=r.getItem(e))?a:null;return o instanceof Promise?o.then(s):s(o)},setItem:(e,a)=>r.setItem(e,JSON.stringify(a,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)}}const o=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then:e=>o(e)(r),catch(e){return this}}}catch(r){return{then(e){return this},catch:e=>o(e)(r)}}},c=(e,t)=>(r,c,n)=>{let i=(0,a.A)({storage:s(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>(0,a.A)((0,a.A)({},t),e)},t),l=!1;const d=new Set,u=new Set;let m=i.storage;if(!m)return e(function(){console.warn("[zustand persist middleware] Unable to update item '".concat(i.name,"', the given storage is currently unavailable.")),r(...arguments)},c,n);const g=()=>{const e=i.partialize((0,a.A)({},c()));return m.setItem(i.name,{state:e,version:i.version})},h=n.setState;n.setState=(e,t)=>(h(e,t),g());const p=e(function(){return r(...arguments),g()},c,n);let v;n.getInitialState=()=>p;const f=()=>{var e,t;if(!m)return;l=!1,d.forEach(e=>{var t;return e(null!=(t=c())?t:p)});const a=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=c())?e:p))||void 0;return o(m.getItem.bind(m))(i.name).then(e=>{if(e){if("number"!==typeof e.version||e.version===i.version)return[!1,e.state];if(i.migrate){const t=i.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;const[a,s]=e;if(v=i.merge(s,null!=(t=c())?t:p),r(v,!0),a)return g()}).then(()=>{null==a||a(v,void 0),v=c(),l=!0,u.forEach(e=>e(v))}).catch(e=>{null==a||a(void 0,e)})};return n.persist={setOptions:e=>{i=(0,a.A)((0,a.A)({},i),e),e.storage&&(m=e.storage)},clearStorage:()=>{null==m||m.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>f(),hasHydrated:()=>l,onHydrate:e=>(d.add(e),()=>{d.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},i.skipHydration||f(),v||p}},4918:(e,t,r)=>{r.d(t,{A:()=>a});const a=(0,r(1639).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},8540:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});r(5043);var a=r(12),s=r(6938),o=r(4319),c=r(4918),n=r(1419),i=r(614),l=r(9354),d=r(579);const u=()=>{const{toasts:e,removeToast:t}=(0,l.P)(),r=e=>{switch(e){case"success":return"bg-green-500 text-white";case"error":return"bg-red-500 text-white";default:return"bg-blue-500 text-white"}};return(0,d.jsx)("div",{className:"fixed top-20 right-4 z-[10000] space-y-2",children:(0,d.jsx)(s.N,{children:e.map(e=>{return(0,d.jsxs)(a.P.div,{initial:{opacity:0,x:300,scale:.3},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.5},transition:{duration:.3},className:"flex items-center space-x-3 p-4 rounded-lg shadow-lg max-w-sm ".concat(r(e.type)),children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(e.type,s=e.icon,"cart"===s?(0,d.jsx)(n.A,{className:"w-5 h-5"}):"heart"===s?(0,d.jsx)(c.A,{className:"w-5 h-5"}):(0,d.jsx)(o.A,{className:"w-5 h-5"}))}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"font-semibold text-sm",children:e.title}),(0,d.jsx)("p",{className:"text-xs opacity-90",children:e.message})]}),(0,d.jsx)("button",{onClick:()=>t(e.id),className:"flex-shrink-0 hover:bg-white/20 rounded-full p-1",children:(0,d.jsx)(i.A,{className:"w-4 h-4"})})]},e.id);var s})})})}},9354:(e,t,r)=>{r.d(t,{P:()=>c});var a=r(2555),s=r(4131),o=r(4893);const c=(0,s.v)()((0,o.Zr)((e,t)=>({cart:[],addToCart:r=>e(e=>{const s=e.cart.find(e=>e.id===r.id),o={type:"success",title:"Producto agregado",message:"".concat(r.name," se agreg\xf3 al carrito"),icon:"cart"};return setTimeout(()=>{t().addToast(o)},100),s?{cart:e.cart.map(e=>e.id===r.id?(0,a.A)((0,a.A)({},e),{},{quantity:e.quantity+1}):e)}:{cart:[...e.cart,(0,a.A)((0,a.A)({},r),{},{quantity:1})]}}),removeFromCart:t=>e(e=>({cart:e.cart.filter(e=>e.id!==t)})),updateQuantity:(t,r)=>e(e=>({cart:r<=0?e.cart.filter(e=>e.id!==t):e.cart.map(e=>e.id===t?(0,a.A)((0,a.A)({},e),{},{quantity:r}):e)})),clearCart:()=>e({cart:[]}),getCartTotal:()=>{const{cart:e}=t();return e.reduce((e,t)=>e+("string"===typeof t.price?parseFloat(t.price.replace(/[$.,]/g,"")):t.price)*t.quantity,0)},getCartItemsCount:()=>{const{cart:e}=t();return e.reduce((e,t)=>e+t.quantity,0)},favorites:[],addToFavorites:r=>e(e=>{const a={type:"success",title:"Agregado a favoritos",message:"".concat(r.name," se agreg\xf3 a tus favoritos"),icon:"heart"};return setTimeout(()=>{t().addToast(a)},100),{favorites:[...e.favorites,r]}}),removeFromFavorites:r=>e(e=>{const a=e.favorites.find(e=>e.id===r);if(a){const e={type:"info",title:"Removido de favoritos",message:"".concat(a.name," se removi\xf3 de favoritos"),icon:"heart"};setTimeout(()=>{t().addToast(e)},100)}return{favorites:e.favorites.filter(e=>e.id!==r)}}),isFavorite:e=>{const{favorites:r}=t();return r.some(t=>t.id===e)},searchTerm:"",selectedCategory:"all",priceRange:[0,3e6],setSearchTerm:t=>e({searchTerm:t}),setSelectedCategory:t=>e({selectedCategory:t}),setPriceRange:t=>e({priceRange:t}),selectedProduct:null,setSelectedProduct:t=>e({selectedProduct:t}),toasts:[],addToast:t=>{const r=Date.now().toString(),s=(0,a.A)((0,a.A)({},t),{},{id:r});e(e=>({toasts:[...e.toasts,s]})),setTimeout(()=>{e(e=>({toasts:e.toasts.filter(e=>e.id!==r)}))},3e3)},removeToast:t=>e(e=>({toasts:e.toasts.filter(e=>e.id!==t)})),products:[],loading:!1,loadProducts:async()=>{e({loading:!0});try{const{productService:t}=await Promise.all([r.e(466),r.e(565)]).then(r.bind(r,6565)),a=await t.getProducts();e({products:a,loading:!1})}catch(t){console.error("Error loading products:",t),e({loading:!1})}},addProduct:async e=>{try{const{productService:a}=await Promise.all([r.e(466),r.e(565)]).then(r.bind(r,6565));await a.addProduct(e),t().loadProducts()}catch(a){console.error("Error adding product:",a)}},updateProduct:async(e,a)=>{try{const{productService:s}=await Promise.all([r.e(466),r.e(565)]).then(r.bind(r,6565));await s.updateProduct(e,a),t().loadProducts()}catch(s){console.error("Error updating product:",s)}},deleteProduct:async e=>{try{const{productService:a}=await Promise.all([r.e(466),r.e(565)]).then(r.bind(r,6565));await a.deleteProduct(e),t().loadProducts()}catch(a){console.error("Error deleting product:",a)}}}),{name:"cleopatra-store",partialize:e=>({cart:e.cart,favorites:e.favorites})}))}}]);
//# sourceMappingURL=540.193cbb82.chunk.js.map