/*! For license information please see 35.e01ff4a2.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkcleopatra_regalos=self.webpackChunkcleopatra_regalos||[]).push([[35],{67:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1639).A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},614:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1639).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1035:(e,t,a)=>{a.r(t),a.d(t,{default:()=>L});var s=a(5043),l=a(6938),o=a(12),r=a(9463),i=a(8326),n=a(3944),c=a(4918),d=a(1639);const m=(0,d.A)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);var u=a(7365),p=a(4830),h=a(8421),x=a(4292),g=a(2555),y=a(5727);const b=(0,d.A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var v=a(2330);const f=(0,d.A)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);var w=a(614),j=a(67),N=a(9333),k=a(5240),I=a(7336),A=a(579);const C=e=>{let{items:t,onAddItem:a,onRemoveItem:l,onVideoClick:r}=e;const{colors:i}=(0,h.D)(),{user:n}=(0,x.A)(),c="admin"===(null===n||void 0===n?void 0:n.role),[d,m]=(0,s.useState)(!1),[u,C]=(0,s.useState)("image"),[S,P]=(0,s.useState)({used:0,limit:0,items:0,percentage:0}),[E,M]=(0,s.useState)({title:"",description:"",category:"Marketing",badge:"Nuevo",isInstagramPost:!1}),[D,V]=(0,s.useState)(!1),z=(0,s.useRef)(null);(0,s.useEffect)(()=>{P(k.k.getStorageInfo())},[t]);return c?(0,A.jsxs)("div",{className:"space-y-6",children:[(0,A.jsxs)("div",{className:"flex justify-between items-center",children:[(0,A.jsxs)("div",{className:"flex gap-3",children:[(0,A.jsxs)(o.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!0),className:"flex items-center gap-3 px-6 py-3 rounded-full font-semibold shadow-lg text-white",style:{backgroundColor:i.primary},children:[(0,A.jsx)(b,{className:"w-5 h-5"}),"Agregar Contenido"]}),(0,A.jsxs)(o.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>V(!0),className:"flex items-center gap-2 px-4 py-3 rounded-full font-semibold text-white bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 transition-colors shadow-lg disabled:opacity-50",children:[(0,A.jsx)(v.A,{className:"w-5 h-5"}),"Instagram"]})]}),(0,A.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,A.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,A.jsx)(f,{className:"w-4 h-4"}),(0,A.jsxs)("span",{children:[S.items," archivos (ilimitado)"]})]}),(0,A.jsx)("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,A.jsx)("div",{className:"h-full transition-all duration-300",style:{width:"".concat(S.percentage,"%"),backgroundColor:S.percentage>80?"#ef4444":i.primary}})}),(0,A.jsxs)("span",{className:"text-gray-600",children:[S.percentage,"%"]})]})]}),S.percentage>80&&(0,A.jsx)("div",{className:"p-3 bg-yellow-100 border border-yellow-300 rounded-lg text-yellow-800 text-sm",children:"\u26a0\ufe0f Espacio de almacenamiento casi lleno. Elimina algunos archivos para liberar espacio."}),d&&(0,A.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white p-6 rounded-2xl shadow-lg border",style:{borderColor:i.primary},children:[(0,A.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,A.jsx)("h3",{className:"text-xl font-bold",style:{color:i.secondary},children:"Subir Contenido"}),(0,A.jsx)("button",{onClick:()=>m(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:(0,A.jsx)(w.A,{className:"w-5 h-5"})})]}),(0,A.jsxs)("div",{className:"space-y-4",children:[(0,A.jsxs)("div",{className:"flex gap-4",children:[(0,A.jsxs)("button",{onClick:()=>C("image"),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold ".concat("image"===u?"text-white":"text-gray-600 bg-gray-100"),style:{backgroundColor:"image"===u?i.primary:void 0},children:[(0,A.jsx)(j.A,{className:"w-4 h-4"}),"Imagen"]}),(0,A.jsxs)("button",{onClick:()=>C("video"),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold ".concat("video"===u?"text-white":"text-gray-600 bg-gray-100"),style:{backgroundColor:"video"===u?i.primary:void 0},children:[(0,A.jsx)(N.A,{className:"w-4 h-4"}),"Video"]})]}),(0,A.jsx)("input",{type:"text",placeholder:"T\xedtulo (opcional)",value:E.title,onChange:e=>M((0,g.A)((0,g.A)({},E),{},{title:e.target.value})),className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2",style:{borderColor:i.primary}}),(0,A.jsx)("textarea",{placeholder:"Descripci\xf3n (opcional)",value:E.description,onChange:e=>M((0,g.A)((0,g.A)({},E),{},{description:e.target.value})),className:"w-full p-3 border rounded-lg h-24 resize-none focus:outline-none focus:ring-2",style:{borderColor:i.primary}}),(0,A.jsxs)("select",{value:E.category,onChange:e=>M((0,g.A)((0,g.A)({},E),{},{category:e.target.value})),className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2",children:[(0,A.jsx)("option",{value:"Marketing",children:"Marketing"}),(0,A.jsx)("option",{value:"Productos",children:"Productos"}),(0,A.jsx)("option",{value:"Eventos",children:"Eventos"}),(0,A.jsx)("option",{value:"Testimonios",children:"Testimonios"})]}),(0,A.jsxs)("select",{value:E.badge,onChange:e=>M((0,g.A)((0,g.A)({},E),{},{badge:e.target.value})),className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2",children:[(0,A.jsx)("option",{value:"Nuevo",children:"Nuevo"}),(0,A.jsx)("option",{value:"Popular",children:"Popular"}),(0,A.jsx)("option",{value:"Favorito",children:"Favorito"}),(0,A.jsx)("option",{value:"Premium",children:"Premium"})]}),(0,A.jsxs)("label",{className:"flex items-center gap-2",children:[(0,A.jsx)("input",{type:"checkbox",checked:E.isInstagramPost,onChange:e=>M((0,g.A)((0,g.A)({},E),{},{isInstagramPost:e.target.checked})),className:"w-4 h-4"}),(0,A.jsx)(v.A,{className:"w-4 h-4",style:{color:i.accent}}),(0,A.jsx)("span",{children:"Es un post de Instagram"})]}),(0,A.jsx)("input",{ref:z,type:"file",accept:"video"===u?"video/*":"image/*",onChange:async e=>{var t;const s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!s)return;console.log("Subiendo ".concat(u,": ").concat((s.size/1048576).toFixed(2),"MB"));const l=new FileReader;l.onload=async e=>{var t;let l=null===(t=e.target)||void 0===t?void 0:t.result;"video"===u&&(l="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMzAwIiBmaWxsPSIjMTExODI3Ii8+CjxjaXJjbGUgY3g9IjIwMCIgY3k9IjE1MCIgcj0iNDAiIGZpbGw9IiNGRkZGRkYiLz4KPHBhdGggZD0iTTE4NSAxMzVMMjE1IDE1MEwxODUgMTY1VjEzNVoiIGZpbGw9IiMxMTE4MjciLz4KPC9zdmc+");try{await a(s,{title:E.title||"".concat("video"===u?"Video":"Imagen"," ").concat(Date.now()),description:E.description||"Contenido subido desde la galer\xeda",category:E.category,badge:E.badge,isInstagramPost:E.isInstagramPost}),P(k.k.getStorageInfo()),M({title:"",description:"",category:"Marketing",badge:"Nuevo",isInstagramPost:!1}),m(!1),z.current&&(z.current.value="")}catch(o){const e=o instanceof Error?o.message:"Error desconocido";e.includes("quota")||e.includes("Quota")?alert("Espacio de almacenamiento lleno. Se eliminaron archivos antiguos para hacer espacio."):alert("Error al subir el archivo: "+e)}},l.onerror=()=>{alert("Error al leer el archivo")},l.readAsDataURL(s)},className:"hidden"}),(0,A.jsx)("button",{onClick:()=>{var e;return null===(e=z.current)||void 0===e?void 0:e.click()},className:"w-full p-4 border-2 border-dashed rounded-lg text-center hover:bg-gray-50 transition-colors",style:{borderColor:i.primary},children:(0,A.jsxs)("div",{className:"flex flex-col items-center gap-2",children:["video"===u?(0,A.jsx)(N.A,{className:"w-8 h-8",style:{color:i.primary}}):(0,A.jsx)(j.A,{className:"w-8 h-8",style:{color:i.primary}}),(0,A.jsxs)("span",{children:["Seleccionar ","video"===u?"video":"imagen"]}),(0,A.jsx)("span",{className:"text-sm text-gray-500",children:"Sin l\xedmite de tama\xf1o"})]})})]})]}),D&&(0,A.jsx)(I.A,{onVideoUploaded:async e=>{const t=await fetch(e.url),s=await t.blob(),l=new File([s],"instagram-video.mp4",{type:"video/mp4"});await a(l,{title:e.title,description:e.description,category:"Instagram",badge:"Reel",isInstagramPost:!0})},onClose:()=>V(!1)}),(0,A.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>(0,A.jsxs)(o.P.div,{whileHover:{y:-5},className:"bg-white rounded-lg shadow-lg overflow-hidden relative group",children:[(0,A.jsxs)("div",{className:"relative h-48",children:["video"===e.type?(0,A.jsxs)("div",{className:"w-full h-full bg-black flex items-center justify-center relative group cursor-pointer",onClick:()=>null===r||void 0===r?void 0:r(e),children:[(0,A.jsx)("img",{src:e.thumbnail,alt:e.title,className:"w-full h-full object-cover"}),(0,A.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-black/50 transition-colors",children:(0,A.jsx)(p.A,{className:"w-12 h-12 text-white drop-shadow-lg"})})]}):(0,A.jsx)("img",{src:e.src,alt:e.title,className:"w-full h-full object-cover"}),(0,A.jsx)("button",{onClick:()=>l(e.id),className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:(0,A.jsx)(w.A,{className:"w-4 h-4"})}),(0,A.jsxs)("div",{className:"absolute top-2 left-2 flex gap-2",children:[(0,A.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold text-white",style:{backgroundColor:i.primary},children:e.badge}),e.isInstagramPost&&(0,A.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold text-white bg-gradient-to-r from-purple-500 to-pink-500",children:"IG"})]})]}),(0,A.jsxs)("div",{className:"p-4",children:[(0,A.jsx)("h4",{className:"font-bold text-sm mb-1",style:{color:i.secondary},children:e.title}),(0,A.jsx)("p",{className:"text-xs text-gray-600 line-clamp-2 mb-2",children:e.description}),(0,A.jsx)("span",{className:"text-xs font-semibold",style:{color:i.accent},children:e.category})]})]},e.id))})]}):(0,A.jsxs)("div",{className:"text-center py-12 bg-white/90 backdrop-blur-sm rounded-3xl shadow-xl",children:[(0,A.jsx)(y.A,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),(0,A.jsx)("h3",{className:"text-xl font-bold mb-2",style:{color:i.secondary},children:"Acceso Restringido"}),(0,A.jsx)("p",{className:"text-gray-600",children:"Solo los administradores pueden gestionar la galer\xeda"})]})},S=(0,d.A)("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),P=(0,d.A)("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),E=e=>{let{isOpen:t,onClose:a,video:r}=e;const i=(0,s.useRef)(null),[n,c]=(0,s.useState)(!1),[d,m]=(0,s.useState)(!0),[u,h]=(0,s.useState)(!0);(0,s.useEffect)(()=>{if(t&&r&&i.current){m(!0),c(!1);const e=i.current;e.currentTime=0;const t=()=>{m(!1),e.play().then(()=>{c(!0)}).catch(()=>{c(!1)})};return e.addEventListener("canplay",t),e.load(),()=>{e.removeEventListener("canplay",t)}}},[t,null===r||void 0===r?void 0:r.src]);return r?(0,A.jsx)(l.N,{children:t&&(0,A.jsx)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black z-50 flex items-center justify-center p-4",onClick:a,children:(0,A.jsxs)(o.P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"relative w-full max-w-xs mx-auto h-[85vh] bg-black rounded-3xl overflow-hidden shadow-2xl border-4 border-gray-800",onClick:e=>e.stopPropagation(),children:[(0,A.jsxs)("div",{className:"absolute top-4 left-4 right-4 z-20 flex justify-between items-center",children:[(0,A.jsx)("button",{onClick:()=>{if(!i.current)return;const e=!u;i.current.muted=e,h(e)},className:"w-10 h-10 bg-black/50 backdrop-blur-sm text-white rounded-full flex items-center justify-center hover:bg-black/70 transition-colors",children:u?(0,A.jsx)(S,{className:"w-5 h-5"}):(0,A.jsx)(P,{className:"w-5 h-5"})}),(0,A.jsx)("button",{onClick:a,className:"w-10 h-10 bg-black/50 backdrop-blur-sm text-white rounded-full flex items-center justify-center hover:bg-black/70 transition-colors",children:(0,A.jsx)(w.A,{className:"w-5 h-5"})})]}),d&&(0,A.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:(0,A.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white"})}),(0,A.jsxs)("video",{ref:i,className:"w-full h-full object-cover",loop:!0,muted:u,playsInline:!0,preload:"metadata",onPlay:()=>c(!0),onPause:()=>c(!1),onLoadStart:()=>m(!0),onLoadedData:()=>m(!1),onError:e=>{console.error("Video error:",e),m(!1)},style:{aspectRatio:"9/16"},children:[(0,A.jsx)("source",{src:r.src,type:"video/mp4"}),(0,A.jsx)("source",{src:r.src,type:"video/webm"}),(0,A.jsx)("source",{src:r.src,type:"video/ogg"}),"Tu navegador no soporta este video."]}),(0,A.jsx)("div",{className:"absolute inset-0 flex items-center justify-center cursor-pointer",onClick:async()=>{if(i.current)try{n?(i.current.pause(),c(!1)):(await i.current.play(),c(!0))}catch(e){console.error("Error toggling video:",e)}},children:!n&&!d&&(0,A.jsx)(o.P.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"w-20 h-20 bg-black/60 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-black/80 transition-colors",children:(0,A.jsx)(p.A,{className:"w-8 h-8 text-white ml-1"})})}),(0,A.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/70 to-transparent p-4",children:[(0,A.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,A.jsx)("span",{className:"px-2 py-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs font-bold rounded-full",children:r.isInstagramPost?"REEL":"VIDEO"}),(0,A.jsx)("span",{className:"px-2 py-1 bg-white/20 backdrop-blur-sm text-white text-xs font-bold rounded-full",children:r.badge})]}),(0,A.jsx)("h3",{className:"text-white text-lg font-bold mb-1 leading-tight",children:r.title}),(0,A.jsx)("p",{className:"text-white/90 text-sm leading-relaxed line-clamp-3",children:r.description}),(0,A.jsxs)("div",{className:"mt-2 text-white/60 text-xs",children:["#",r.category.toLowerCase()," #cleopatraregalos"]})]})]})})}):null},M=e=>{let{src:t,alt:a,className:l="",fallback:o="https://images.unsplash.com/photo-1549298916-b41d501d3772?w=800&q=80"}=e;const[r,i]=(0,s.useState)(t);return(0,A.jsx)("img",{src:r,alt:a,className:l,onError:()=>i(o)})},D=e=>{var t,a,n,c,d,m,u;let{colors:p,items:h}=e;const[x,g]=(0,s.useState)(0),[y,b]=(0,s.useState)(!1),v=(0,s.useRef)(null),f=(0,s.useRef)(null);(0,s.useEffect)(()=>{const e=setInterval(()=>{g(e=>(e+1)%h.length)},4e3);return()=>clearInterval(e)},[h.length]),(0,s.useEffect)(()=>{const e=new IntersectionObserver(e=>{let[t]=e;b(t.isIntersecting)},{threshold:.5});return v.current&&e.observe(v.current),()=>e.disconnect()},[]),(0,s.useEffect)(()=>{var e;f.current&&(y&&"video"===(null===(e=h[x])||void 0===e?void 0:e.type)?(f.current.play(),f.current.muted=!0):(f.current.pause(),f.current.muted=!0))},[y,x,h]);return(0,A.jsxs)("div",{ref:v,className:"relative h-80 md:h-96 rounded-3xl overflow-hidden shadow-2xl mb-16",children:[(0,A.jsx)(l.N,{mode:"wait",children:(0,A.jsxs)(o.P.div,{initial:{x:300,opacity:0},animate:{x:0,opacity:1},exit:{x:-300,opacity:0},transition:{duration:.7,ease:"easeInOut"},className:"absolute inset-0",children:["video"===(null===(t=h[x])||void 0===t?void 0:t.type)?(0,A.jsx)("div",{className:"relative w-full h-full bg-black flex items-center justify-center",children:(0,A.jsx)("video",{ref:f,src:h[x].src,className:"h-full w-auto max-w-full object-contain",controls:!0,loop:!0,playsInline:!0,poster:h[x].thumbnail,muted:!0,onClick:e=>{e.preventDefault()}})}):(0,A.jsx)(M,{src:null===(a=h[x])||void 0===a?void 0:a.src,alt:null===(n=h[x])||void 0===n?void 0:n.title,className:"w-full h-full object-cover"}),(0,A.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 to-transparent backdrop-blur-sm"}),(0,A.jsx)("div",{className:"absolute bottom-8 left-8 right-8 text-white",children:(0,A.jsxs)(o.P.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"space-y-4",children:[(0,A.jsxs)("div",{className:"flex items-center gap-3",children:[(0,A.jsx)(o.P.span,{whileHover:{scale:1.1},className:"px-3 py-1 rounded-full text-sm font-semibold",style:{backgroundColor:p.primary},children:null===(c=h[x])||void 0===c?void 0:c.badge}),(0,A.jsx)("span",{className:"text-sm opacity-80",children:null===(d=h[x])||void 0===d?void 0:d.category})]}),(0,A.jsx)("h3",{className:"text-2xl md:text-3xl font-bold",children:null===(m=h[x])||void 0===m?void 0:m.title}),(0,A.jsx)("p",{className:"text-lg opacity-90 max-w-2xl",children:null===(u=h[x])||void 0===u?void 0:u.description})]})})]},x)}),(0,A.jsx)("button",{onClick:()=>g(e=>(e-1+h.length)%h.length),className:"absolute left-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-colors",children:(0,A.jsx)(r.A,{className:"w-6 h-6"})}),(0,A.jsx)("button",{onClick:()=>g(e=>(e+1)%h.length),className:"absolute right-4 top-1/2 -translate-y-1/2 w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-colors",children:(0,A.jsx)(i.A,{className:"w-6 h-6"})}),(0,A.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:h.map((e,t)=>(0,A.jsx)("button",{onClick:()=>g(t),className:"w-3 h-3 rounded-full transition-all ".concat(t===x?"bg-white scale-125":"bg-white/50")},t))})]})},V=e=>{let{colors:t}=e;const[a,l]=(0,s.useState)({x:0,y:0});return(0,s.useEffect)(()=>{const e=e=>{l({x:e.clientX,y:e.clientY})};return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)},[]),(0,A.jsx)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(5)].map((e,s)=>{const l=Math.sqrt(Math.pow(a.x-window.innerWidth*(.2+.2*s),2)+Math.pow(a.y-window.innerHeight*(.3+.15*s),2)),r=Math.max(.5,1-l/500);return(0,A.jsx)(o.P.div,{className:"absolute rounded-full",style:{width:"40px",height:"40px",left:"".concat(20+20*s,"%"),top:"".concat(30+15*s,"%"),background:"radial-gradient(circle, ".concat(t.primary,"70, ").concat(t.primary,"20 50%, transparent)"),boxShadow:"0 0 30px ".concat(t.primary,"60"),transform:"scale(".concat(r,")"),transition:"transform 0.3s ease-out"},animate:{scale:[.8*r,1.2*r,.8*r],opacity:[.6,1,.6]},transition:{duration:3,repeat:1/0,ease:"easeInOut",delay:.5*s}},"interactive-".concat(s))})})},z=e=>{let{colors:t}=e;return(0,A.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[[...Array(4)].map((e,a)=>(0,A.jsx)(o.P.div,{className:"absolute rounded-full",style:{width:"".concat(200+50*a,"px"),height:"".concat(200+50*a,"px"),left:"".concat(20+25*a,"%"),top:"".concat(10+20*a,"%"),background:"radial-gradient(circle, ".concat(t.primary,"25, transparent 70%)"),border:"2px solid ".concat(t.primary,"40")},animate:{scale:[1,1.1,1],rotate:[0,180,360],opacity:[.5,.9,.5]},transition:{duration:15+3*a,repeat:1/0,ease:"easeInOut",delay:2*a}},"circle-".concat(a))),[...Array(8)].map((e,a)=>(0,A.jsx)(o.P.div,{className:"absolute rounded-full",style:{width:"".concat(60+20*a,"px"),height:"".concat(60+20*a,"px"),left:"".concat(90*Math.random(),"%"),top:"".concat(90*Math.random(),"%"),background:"linear-gradient(135deg, ".concat(t.primary,"30, ").concat(t.accent,"25)"),backdropFilter:"blur(1px)"},animate:{x:[0,100,0],y:[0,-80,0],scale:[.8,1.2,.8],opacity:[.4,.8,.4]},transition:{duration:12+2*a,repeat:1/0,ease:"easeInOut",delay:1.5*a}},"medium-".concat(a))),[...Array(12)].map((e,a)=>(0,A.jsxs)(o.P.div,{className:"absolute",style:{left:"".concat(100*Math.random(),"%"),top:"".concat(100*Math.random(),"%")},animate:{x:[0,60,0],y:[0,-40,0],rotate:[0,360],scale:[1,1.5,1]},transition:{duration:8+1.5*a,repeat:1/0,ease:"easeInOut",delay:.8*a},children:[a%4===0&&(0,A.jsx)("div",{className:"w-2 h-2 rounded-full",style:{background:"radial-gradient(circle, ".concat(t.primary,", transparent)"),boxShadow:"0 0 20px ".concat(t.primary,"80")}}),a%4===1&&(0,A.jsx)(n.A,{className:"w-4 h-4 opacity-60",style:{color:t.primary}}),a%4===2&&(0,A.jsx)(c.A,{className:"w-3 h-3 opacity-50",style:{color:t.accent}}),a%4===3&&(0,A.jsx)(m,{className:"w-5 h-5 opacity-45",style:{color:t.primaryDark}})]},"particle-".concat(a))),(0,A.jsx)(o.P.div,{className:"absolute inset-0",style:{background:"radial-gradient(ellipse at 20% 80%, ".concat(t.primary,"15 0%, transparent 50%), radial-gradient(ellipse at 80% 20%, ").concat(t.accent,"15 0%, transparent 50%)")},animate:{opacity:[.6,.9,.6]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}})]})},L=()=>{const{colors:e}=(0,h.D)(),{user:t}=(0,x.A)(),[a,l]=(0,s.useState)(!1),r="admin"===(null===t||void 0===t?void 0:t.role),[n,c]=(0,s.useState)([]),[d,m]=(0,s.useState)(null),[g,y]=(0,s.useState)(!1);(0,s.useEffect)(()=>{const e=k.k.getItems();c(e)},[]);const b=e=>{m(e),y(!0)};return(0,A.jsxs)("section",{id:"gallery",className:"relative py-20 overflow-hidden bg-gradient-to-br from-gray-100 via-white to-blue-50",children:[(0,A.jsx)(z,{colors:e}),(0,A.jsx)(V,{colors:e}),(0,A.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,A.jsx)(o.P.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:(0,A.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,A.jsxs)("div",{className:"flex-1",children:[(0,A.jsx)("h2",{className:"text-4xl md:text-5xl font-bold mb-6",style:{color:e.secondary},children:"Galer\xeda de Momentos Especiales"}),(0,A.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Descubre la magia de Cleopatra a trav\xe9s de nuestros productos \xfanicos y momentos inolvidables"})]}),r&&(0,A.jsxs)(o.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!a),className:"flex items-center gap-2 px-4 py-2 rounded-full text-white font-semibold shadow-lg",style:{backgroundColor:e.accent},children:[(0,A.jsx)(u.A,{className:"w-4 h-4"}),"Gestionar"]})]})}),a&&(0,A.jsx)(o.P.div,{initial:{opacity:0,height:0,y:-20},animate:{opacity:1,height:"auto",y:0},exit:{opacity:0,height:0,y:-20},className:"mb-16 bg-white/70 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/20",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.8), rgba(255,255,255,0.4))",boxShadow:"0 25px 50px -12px ".concat(e.primary,"20")},children:(0,A.jsx)(C,{items:n,onAddItem:async(e,t)=>{try{const a=await k.k.addItem(e,t);c(e=>[...e,a])}catch(a){alert(a instanceof Error?a.message:"Error al guardar el archivo")}},onRemoveItem:async e=>{try{await k.k.removeItem(e),c(t=>t.filter(t=>t.id!==e))}catch(t){alert(t instanceof Error?t.message:"Error al eliminar el archivo")}},onVideoClick:b})}),n.length>0?(0,A.jsx)(D,{colors:e,items:n}):(0,A.jsxs)(o.P.div,{initial:{opacity:0,y:30,scale:.95},animate:{opacity:1,y:0,scale:1},className:"text-center py-20 bg-white/70 backdrop-blur-xl rounded-3xl shadow-2xl mb-16 border border-white/20",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.9), rgba(255,255,255,0.6))",boxShadow:"0 25px 50px -12px ".concat(e.primary,"15")},children:[(0,A.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcf8"}),(0,A.jsx)("h3",{className:"text-2xl font-bold mb-4",style:{color:e.secondary},children:"A\xfan no hay contenido en la galer\xeda"}),(0,A.jsx)("p",{className:"text-gray-600 mb-6",children:"Sube tus primeras im\xe1genes y videos para comenzar a mostrar tu contenido"}),(0,A.jsx)(o.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!0),className:"px-8 py-4 rounded-full text-white font-semibold shadow-lg",style:{backgroundColor:e.primary},children:"Subir Primer Contenido"})]}),n.length>0&&(0,A.jsx)("div",{className:"space-y-12",children:n.map((t,a)=>{const s=a%2===1;return(0,A.jsxs)(o.P.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:.2},viewport:{once:!0},className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center lg:grid-flow-col-dense",children:[(0,A.jsx)(o.P.div,{initial:{opacity:0,x:s?60:-60,scale:.9},whileInView:{opacity:1,x:0,scale:1},transition:{duration:.8,delay:.4,type:"spring",stiffness:100},viewport:{once:!0},whileHover:{y:-10},className:"group relative ".concat(s?"lg:col-start-2":""),children:(0,A.jsxs)("div",{className:"relative overflow-hidden rounded-3xl shadow-2xl",children:["video"===t.type?(0,A.jsxs)("div",{className:"relative w-full max-w-md mx-auto bg-black rounded-3xl overflow-hidden shadow-2xl group cursor-pointer",onClick:()=>b(t),style:{aspectRatio:"9/16",height:"600px"},children:[(0,A.jsx)("video",{src:t.src,className:"w-full h-full object-cover",loop:!0,muted:!0,playsInline:!0,poster:t.thumbnail,ref:e=>{if(e){new IntersectionObserver(t=>{let[a]=t;a.isIntersecting?(e.play(),e.muted=!1):(e.pause(),e.muted=!0)},{threshold:.5}).observe(e)}},onError:e=>{var a;const s=e.target;s.style.display="none";const l=document.createElement("img");l.src=t.thumbnail||"/placeholder-image.jpg",l.className="w-full h-full object-cover",null===(a=s.parentNode)||void 0===a||a.appendChild(l)}}),(0,A.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-black/20 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,A.jsxs)("div",{className:"absolute top-4 left-4 flex gap-2",children:[(0,A.jsx)("span",{className:"px-2 py-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs font-bold rounded-full",children:t.isInstagramPost?"REEL":"VIDEO"}),(0,A.jsx)("span",{className:"px-2 py-1 bg-black/50 backdrop-blur-sm text-white text-xs font-bold rounded-full",children:t.badge})]}),(0,A.jsxs)("div",{className:"absolute bottom-4 left-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,A.jsx)("h4",{className:"text-white font-bold text-sm mb-1 leading-tight",children:t.title}),(0,A.jsx)("p",{className:"text-white/80 text-xs line-clamp-2",children:t.description})]}),(0,A.jsx)("div",{className:"absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,A.jsx)("div",{className:"w-8 h-8 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:(0,A.jsx)(p.A,{className:"w-4 h-4 text-white"})})})]}):(0,A.jsx)(M,{src:t.src,alt:t.title,className:"w-full h-80 md:h-96 object-cover group-hover:scale-110 transition-transform duration-500"}),(0,A.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,A.jsx)(o.P.div,{whileHover:{scale:1.1},className:"absolute top-6 right-6 px-4 py-2 rounded-full text-white font-semibold shadow-lg",style:{backgroundColor:e.primary},children:t.badge}),(0,A.jsx)("div",{className:"absolute inset-0 rounded-3xl border-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{borderColor:e.primary}})]})}),(0,A.jsxs)(o.P.div,{initial:{opacity:0,x:s?-60:60,y:30},whileInView:{opacity:1,x:0,y:0},transition:{duration:.8,delay:.6,type:"spring",stiffness:80},viewport:{once:!0},className:"space-y-6 ".concat(s?"lg:col-start-1":""),children:[(0,A.jsxs)("div",{className:"space-y-4",children:[(0,A.jsx)(o.P.span,{whileHover:{scale:1.05},className:"inline-block px-4 py-2 rounded-full text-sm font-semibold text-white",style:{backgroundColor:e.accent},children:t.category}),(0,A.jsx)("h3",{className:"text-3xl md:text-4xl font-bold",style:{color:e.secondary},children:t.title}),(0,A.jsx)("p",{className:"text-lg text-gray-600 leading-relaxed",children:t.description})]}),(0,A.jsxs)(o.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{"video"===t.type&&b(t)},className:"inline-flex items-center gap-3 px-8 py-4 rounded-full text-white font-semibold shadow-lg transition-all duration-300",style:{background:"linear-gradient(135deg, ".concat(e.primary,", ").concat(e.primaryDark,")"),boxShadow:"0 10px 30px ".concat(e.primary,"30")},children:[(0,A.jsx)("span",{children:"video"===t.type?"Reproducir Video":"Ver Detalles"}),(0,A.jsx)(o.P.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:"video"===t.type?(0,A.jsx)(p.A,{className:"w-5 h-5"}):(0,A.jsx)(i.A,{className:"w-5 h-5"})})]})]})]},t.id)})}),(0,A.jsxs)(o.P.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mt-20 p-12 rounded-3xl shadow-2xl bg-white/70 backdrop-blur-xl border border-white/30",style:{background:"linear-gradient(135deg, rgba(255,255,255,0.9), rgba(255,255,255,0.6))",boxShadow:"0 25px 50px -12px ".concat(e.primary,"20, inset 0 1px 0 rgba(255,255,255,0.6)")},children:[(0,A.jsx)("h3",{className:"text-3xl font-bold mb-6",style:{color:e.secondary},children:"\xbfListo para crear momentos especiales?"}),(0,A.jsx)("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Explora nuestra colecci\xf3n completa y encuentra el regalo perfecto para cada ocasi\xf3n"}),(0,A.jsx)(o.P.button,{whileHover:{scale:1.05,boxShadow:"0 20px 40px ".concat(e.primary,"40")},whileTap:{scale:.95},className:"px-10 py-5 rounded-full text-white font-bold text-lg shadow-xl transition-all duration-300",style:{background:"linear-gradient(135deg, ".concat(e.primary,", ").concat(e.primaryDark,")")},children:"Explorar Productos"})]}),(0,A.jsx)(E,{isOpen:g,onClose:()=>{y(!1),m(null)},video:d})]})]})}},2330:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1639).A)("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]])},3944:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1639).A)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},4830:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1639).A)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]])},4918:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1639).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},5240:(e,t,a)=>{a.d(t,{k:()=>i});var s=a(5684),l=a(3212);const o="cleopatra_gallery_hybrid",r=!0;const i=new class{getItems(){try{const e=localStorage.getItem(o);return e?JSON.parse(e):this.getDefaultItems()}catch(e){return console.error("Error loading gallery items:",(0,l.F0)(String(e))),this.getDefaultItems()}}getDefaultItems(){return[{id:1,type:"image",src:"https://images.unsplash.com/photo-1549298916-b41d501d3772?w=800&q=80",title:"Smartwatch Collection 2024",description:"Los mejores smartwatches del mercado con tecnolog\xeda de punta.",category:"Tecnolog\xeda",badge:"Nuevo",createdAt:(new Date).toISOString(),isCloudinary:!1},{id:2,type:"image",src:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=800&q=80",title:"Canasta Desayuno Sorpresa",description:"Sorprende con nuestras canastas gourmet llenas de amor.",category:"Regalos",badge:"Popular",createdAt:(new Date).toISOString(),isCloudinary:!1}]}async addItem(e,t){const a=this.getItems();try{let l,n,c,d=!1;try{{const t=await s.Y.uploadFile(e);l=t.url,n=t.thumbnail,c=t.publicId,d=!0}}catch(r){console.warn("Cloudinary failed, using localStorage:",r);const t=10485760;if(e.size>t)throw new Error("Archivo muy grande para localStorage. Cloudinary no disponible.");l=await this.fileToBase64(e),n=e.type.startsWith("video/")?void 0:l,d=!1}const m={id:Date.now(),type:e.type.startsWith("video/")?"video":"image",src:l,thumbnail:n,title:t.title,description:t.description,category:t.category,badge:t.badge,isInstagramPost:t.isInstagramPost,createdAt:(new Date).toISOString(),cloudinaryId:c,isCloudinary:d},u=[...a,m];try{localStorage.setItem(o,JSON.stringify(u))}catch(i){if(!(i instanceof DOMException&&22===i.code))throw i;{const e=a.slice(-10);localStorage.setItem(o,JSON.stringify([...e,m]))}}return m}catch(i){throw console.error("Error adding item:",(0,l.F0)(String(i))),i}}async removeItem(e){try{const t=this.getItems(),a=t.find(t=>t.id===e);null!==a&&void 0!==a&&a.isCloudinary&&a.cloudinaryId&&await s.Y.deleteFile(a.cloudinaryId,a.type);const l=t.filter(t=>t.id!==e);localStorage.setItem(o,JSON.stringify(l))}catch(t){throw console.error("Error removing item:",(0,l.F0)(String(t))),new Error("No se pudo eliminar el archivo.")}}clearAll(){localStorage.removeItem(o)}getStorageInfo(){const e=this.getItems();return{used:e.length,limit:999999,items:e.length,percentage:Math.min(Math.round(e.length/1e3*100),100),isProduction:r}}fileToBase64(e){return new Promise((t,a)=>{const s=new FileReader;s.onload=()=>t(s.result),s.onerror=a,s.readAsDataURL(e)})}optimizeImage(e,t){return e.isCloudinary&&e.src?s.Y.optimizeImageUrl(e.src,t):e.src}}},5684:(e,t,a)=>{a.d(t,{Y:()=>l});const s={cloudName:"dxhhdmcbw",uploadPreset:"gallery_uploads",apiKey:"your_api_key"};const l=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.config=void 0,this.config=e}async uploadFile(e){const t=new FormData;t.append("file",e),t.append("upload_preset",this.config.uploadPreset),e.type.startsWith("video/")&&t.append("resource_type","video");try{var a,s;console.log("Uploading to Cloudinary:",{cloudName:this.config.cloudName,preset:this.config.uploadPreset,fileType:e.type,fileSize:e.size});const l=await fetch("https://api.cloudinary.com/v1_1/".concat(this.config.cloudName,"/").concat(e.type.startsWith("video/")?"video":"image","/upload"),{method:"POST",body:t});if(console.log("Cloudinary response status:",l.status),!l.ok){const e=await l.text();throw console.error("Cloudinary error response:",e),new Error("Cloudinary error: ".concat(l.status," - ").concat(e))}const o=await l.json();return console.log("Cloudinary success:",o.public_id),{url:o.secure_url,publicId:o.public_id,thumbnail:(null===(a=o.eager)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.secure_url)||o.secure_url}}catch(l){throw console.error("Cloudinary upload failed:",l),l}}async deleteFile(e){try{return console.log("Archivo ".concat(e," marcado para eliminaci\xf3n")),!0}catch(t){return console.error("Error deleting from Cloudinary:",String(t).substring(0,100)),!1}}optimizeImageUrl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.includes("cloudinary.com"))return e;const{width:a=800,height:s=600,quality:l=80,format:o="auto"}=t,r="c_fill,w_".concat(a,",h_").concat(s,",q_").concat(l,",f_").concat(o);return e.replace("/upload/","/upload/".concat(r,"/"))}getVideoWithPoster(e){if(!e.includes("cloudinary.com"))return{videoUrl:e,posterUrl:e};const t=e.replace("/video/upload/","/image/upload/").replace(/\.[^.]+$/,".jpg");return{videoUrl:e,posterUrl:t}}}},5727:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1639).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},7336:(e,t,a)=>{a.d(t,{A:()=>p});var s=a(2555),l=a(5043),o=a(12),r=a(2330),i=a(614),n=a(9333);const c=(0,a(1639).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var d=a(8421),m=a(5684),u=a(579);const p=e=>{let{onVideoUploaded:t,onClose:a}=e;const{colors:p}=(0,d.D)(),[h,x]=(0,l.useState)(!1),[g,y]=(0,l.useState)(0),[b,v]=(0,l.useState)(null),[f,w]=(0,l.useState)(null),[j,N]=(0,l.useState)({title:"",description:""}),k=(0,l.useRef)(null);return(0,u.jsx)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:e=>e.target===e.currentTarget&&a(),children:(0,u.jsxs)(o.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,u.jsx)(r.A,{className:"w-5 h-5 text-white"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"text-lg font-bold",style:{color:p.secondary},children:"Subir Video de Instagram"}),(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"M\xe1ximo 500MB"})]})]}),(0,u.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,u.jsx)(i.A,{className:"w-5 h-5"})})]}),(0,u.jsxs)("div",{className:"p-6 space-y-6",children:[b?(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{className:"relative rounded-xl overflow-hidden bg-black",children:[(0,u.jsx)("video",{src:f,className:"w-full h-48 object-contain",controls:!0,muted:!0}),(0,u.jsx)("button",{onClick:()=>{v(null),w(null),f&&URL.revokeObjectURL(f)},className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:(0,u.jsx)(i.A,{className:"w-4 h-4"})})]}),(0,u.jsxs)("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Archivo:"})," ",b.name]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Tama\xf1o:"})," ",(b.size/1048576).toFixed(2)," MB"]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Tipo:"})," ",b.type]})]})]}):(0,u.jsx)("div",{onClick:()=>{var e;return null===(e=k.current)||void 0===e?void 0:e.click()},className:"border-2 border-dashed rounded-xl p-8 text-center cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:p.primary},children:(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsx)("div",{className:"w-16 h-16 mx-auto bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,u.jsx)(n.A,{className:"w-8 h-8 text-white"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{className:"text-lg font-semibold mb-2",style:{color:p.secondary},children:"Seleccionar Video"}),(0,u.jsx)("p",{className:"text-gray-600 text-sm",children:"Haz clic para seleccionar un video de Instagram"}),(0,u.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Formatos: MP4, MOV, AVI \u2022 M\xe1ximo 500MB"})]})]})}),(0,u.jsx)("input",{ref:k,type:"file",accept:"video/*",onChange:e=>{var t;const a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a)return;if(!a.type.startsWith("video/"))return void alert("Por favor selecciona un archivo de video v\xe1lido");if(a.size>524288e3)return void alert("El video es muy grande. M\xe1ximo 500MB permitido.");v(a);const l=URL.createObjectURL(a);w(l),j.title||N(e=>(0,s.A)((0,s.A)({},e),{},{title:"Video Instagram ".concat((new Date).toLocaleDateString())}))},className:"hidden"}),b&&(0,u.jsxs)("div",{className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:p.secondary},children:"T\xedtulo del Video"}),(0,u.jsx)("input",{type:"text",value:j.title,onChange:e=>N(t=>(0,s.A)((0,s.A)({},t),{},{title:e.target.value})),placeholder:"Ej: Nuevo producto en acci\xf3n",className:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2",style:{borderColor:p.primary}})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium mb-2",style:{color:p.secondary},children:"Descripci\xf3n (Opcional)"}),(0,u.jsx)("textarea",{value:j.description,onChange:e=>N(t=>(0,s.A)((0,s.A)({},t),{},{description:e.target.value})),placeholder:"Describe el contenido del video...",rows:3,className:"w-full p-3 border rounded-lg resize-none focus:outline-none focus:ring-2",style:{borderColor:p.primary}})]})]}),h&&(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,u.jsx)("span",{style:{color:p.secondary},children:"Subiendo video..."}),(0,u.jsxs)("span",{style:{color:p.primary},children:[g,"%"]})]}),(0,u.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,u.jsx)(o.P.div,{initial:{width:0},animate:{width:"".concat(g,"%")},className:"h-2 rounded-full",style:{backgroundColor:p.primary}})}),100===g&&(0,u.jsxs)("div",{className:"flex items-center gap-2 text-green-600 text-sm",children:[(0,u.jsx)(c,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"\xa1Video subido exitosamente!"})]})]}),(0,u.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,u.jsx)("button",{onClick:a,disabled:h,className:"flex-1 px-4 py-3 border rounded-lg font-medium hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancelar"}),(0,u.jsx)("button",{onClick:async()=>{if(b){x(!0),y(0);try{const e=setInterval(()=>{y(t=>t>=90?(clearInterval(e),90):t+10)},200),s=await m.Y.uploadFile(b);clearInterval(e),y(100),setTimeout(()=>{t({url:s.url,thumbnail:s.thumbnail||s.url,title:j.title,description:j.description,publicId:s.publicId}),v(null),w(null),N({title:"",description:""}),x(!1),y(0),a()},1e3)}catch(e){console.error("Error uploading video:",e),alert("Error al subir el video. Intenta de nuevo."),x(!1),y(0)}}},disabled:!b||!j.title.trim()||h,className:"flex-1 px-4 py-3 rounded-lg font-medium text-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:p.primary},children:h?"Subiendo...":"Subir Video"})]})]})]})})}},7365:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1639).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8326:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1639).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},9333:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1639).A)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},9463:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(1639).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])}}]);
//# sourceMappingURL=35.e01ff4a2.chunk.js.map