"use strict";(self.webpackChunkcleopatra_regalos=self.webpackChunkcleopatra_regalos||[]).push([[403],{2736:(e,t,a)=>{a.d(t,{I:()=>o});var s=a(4131),r=a(4893);const o=(0,s.v)()((0,r.Zr)((e,t)=>({items:[],addItem:a=>{const s=t().items;s.find(e=>e.id===a.id)||e({items:[...s,a]})},removeItem:a=>{e({items:t().items.filter(e=>e.id!==a)})},clearFavorites:()=>{e({items:[]})},isInFavorites:e=>t().items.some(t=>t.id===e)}),{name:"cleopatra-favorites"}))},5403:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var s=a(2555),r=a(5043),o=a(12),i=a(7365),c=a(5087),l=a(4918),n=a(1419),d=a(614),m=a(9981),u=a(8421),x=a(4292),h=a(9354),p=a(2736),g=a(6938),y=a(1990),f=a(1360),b=a(9292),v=a(6666),j=a(924),w=a(6151),N=a(579);const P=e=>{let{isOpen:t,onClose:s}=e;const{colors:c}=(0,u.D)(),[l,n]=(0,r.useState)("dashboard"),[m,x]=(0,r.useState)([]),[h,p]=(0,r.useState)(!1),[P,C]=(0,r.useState)(null),[A,k]=(0,r.useState)(""),[S,T]=(0,r.useState)("all"),E=async()=>{p(!0);try{const{productService:e}=await Promise.all([a.e(466),a.e(565)]).then(a.bind(a,6565)),t=await e.getProducts();x(t.map(e=>({id:e.id.toString(),name:e.name,price:"string"===typeof e.price?e.price:String(e.price),category:"regalos"===e.category?"gifts":"tecnologia"===e.category?"tech":"gifts",image:e.image,images:e.images,description:e.description,createdAt:e.createdAt})))}catch(e){console.error("Error loading products:",e)}finally{p(!1)}};(0,r.useEffect)(()=>{t&&E()},[t]);const F=m.filter(e=>{const t=(e.name||"").toLowerCase().includes(A.toLowerCase())||(e.description||"").toLowerCase().includes(A.toLowerCase()),a="all"===S||e.category===S;return t&&a});if(!t)return null;const I=[{id:"dashboard",label:"Dashboard",icon:i.A},{id:"products",label:"Productos",icon:y.A},{id:"add",label:"Agregar",icon:f.A}];return(0,N.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,N.jsxs)(o.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl w-full max-w-7xl h-[90vh] flex overflow-hidden shadow-2xl",children:[(0,N.jsxs)("div",{className:"w-64 bg-gradient-to-b from-gray-900 to-gray-800 text-white p-6",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h1",{className:"text-xl font-bold",children:"Admin Panel"}),(0,N.jsx)("p",{className:"text-gray-400 text-sm",children:"Gesti\xf3n de productos"})]}),(0,N.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:(0,N.jsx)(d.A,{className:"w-5 h-5"})})]}),(0,N.jsx)("nav",{className:"space-y-2",children:I.map(e=>{const t=e.icon;return(0,N.jsxs)("button",{onClick:()=>n(e.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition-all ".concat(l===e.id?"bg-white/10 text-white border-l-4 border-yellow-400":"text-gray-300 hover:bg-white/5 hover:text-white"),children:[(0,N.jsx)(t,{className:"w-5 h-5"}),e.label,"products"===e.id&&(0,N.jsx)("span",{className:"ml-auto bg-yellow-400 text-gray-900 text-xs px-2 py-1 rounded-full",children:m.length})]},e.id)})}),(0,N.jsxs)("div",{className:"mt-8 p-4 bg-white/5 rounded-lg",children:[(0,N.jsx)("h3",{className:"font-semibold mb-2",children:"Estad\xedsticas"}),(0,N.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,N.jsxs)("div",{className:"flex justify-between",children:[(0,N.jsx)("span",{className:"text-gray-400",children:"Total productos:"}),(0,N.jsx)("span",{className:"text-white",children:m.length})]}),(0,N.jsxs)("div",{className:"flex justify-between",children:[(0,N.jsx)("span",{className:"text-gray-400",children:"Tecnolog\xeda:"}),(0,N.jsx)("span",{className:"text-white",children:m.filter(e=>"tech"===e.category).length})]}),(0,N.jsxs)("div",{className:"flex justify-between",children:[(0,N.jsx)("span",{className:"text-gray-400",children:"Regalos:"}),(0,N.jsx)("span",{className:"text-white",children:m.filter(e=>"gifts"===e.category).length})]})]})]})]}),(0,N.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,N.jsxs)("div",{className:"border-b border-gray-200 p-6",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:["dashboard"===l&&"Dashboard","products"===l&&"Gesti\xf3n de Productos","add"===l&&"Agregar Producto","edit"===l&&"Editar Producto"]}),(0,N.jsxs)("p",{className:"text-gray-600 mt-1",children:["dashboard"===l&&"Resumen general del sistema","products"===l&&"Administra tu cat\xe1logo de productos","add"===l&&"Crear un nuevo producto","edit"===l&&"Modificar producto existente"]})]}),"products"===l&&(0,N.jsxs)("button",{onClick:()=>n("add"),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,N.jsx)(f.A,{className:"w-4 h-4"}),"Nuevo Producto"]})]}),"products"===l&&(0,N.jsxs)("div",{className:"flex items-center gap-4 mt-6",children:[(0,N.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,N.jsx)(b.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,N.jsx)("input",{type:"text",placeholder:"Buscar productos...",value:A,onChange:e=>k(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,N.jsxs)("select",{value:S,onChange:e=>T(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,N.jsx)("option",{value:"all",children:"Todas las categor\xedas"}),(0,N.jsx)("option",{value:"tech",children:"Tecnolog\xeda"}),(0,N.jsx)("option",{value:"gifts",children:"Regalos"})]})]})]}),(0,N.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,N.jsxs)(g.N,{mode:"wait",children:["dashboard"===l&&(0,N.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:(0,N.jsx)(w.A,{products:m})},"dashboard"),"products"===l&&(0,N.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:(0,N.jsx)(j.A,{products:F,loading:h,onEdit:e=>{C(e),n("edit")},onDelete:async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este producto?"))try{const{productService:t}=await Promise.all([a.e(466),a.e(565)]).then(a.bind(a,6565));await t.deleteProduct(e),await E()}catch(t){console.error("Error deleting product:",t)}}})},"products"),("add"===l||"edit"===l)&&(0,N.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:(0,N.jsx)(v.A,{product:P,onSave:()=>{E(),n("products"),C(null)},onCancel:()=>{n("products"),C(null)}})},l)]})})]})]})})},C=()=>{const{colors:e}=(0,u.D)(),{isAdmin:t}=(0,x.A)(),{addToCart:g}=(0,h.P)(),{addItem:y,removeItem:f,isInFavorites:b}=(0,p.I)(),v=(0,m.Zp)(),[j,w]=(0,r.useState)([]),[C,A]=(0,r.useState)(!1),[k,S]=(0,r.useState)(!1),[T,E]=(0,r.useState)(null),F=async()=>{A(!0);try{const{productService:e}=await Promise.all([a.e(466),a.e(565)]).then(a.bind(a,6565)),t=await e.getProducts();console.log("Products loaded from Firebase:",t),console.log("Number of products:",t.length),t.forEach((e,t)=>{console.log("Product ".concat(t,":"),{id:e.id,name:e.name,price:e.price,image:e.image,images:e.images,category:e.category,description:e.description})}),w(t)}catch(e){console.error("Error loading products:",e),w([])}finally{A(!1)}};(0,r.useEffect)(()=>{F()},[]);const I=j.slice(0,6);console.log("Display products:",I),console.log("All products state:",j);return C?(0,N.jsx)("section",{id:"products",className:"py-20 bg-gray-50",children:(0,N.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,N.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,N.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando productos..."})]})}):(0,N.jsx)("section",{id:"products",className:"py-20 bg-gray-50",children:(0,N.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,N.jsxs)("div",{className:"text-center mb-16",children:[(0,N.jsx)(o.P.h2,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8},className:"text-4xl md:text-5xl font-bold mb-6",style:{color:e.secondary},children:"Nuestros Productos"}),(0,N.jsx)(o.P.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.8},className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Descubre nuestra selecci\xf3n cuidadosamente curada de productos premium"}),t&&(0,N.jsx)(o.P.button,{initial:{scale:0},animate:{scale:1},transition:{delay:.4,duration:.5},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(!0),className:"p-3 rounded-full shadow-lg hover:shadow-xl transition-all mb-8",style:{backgroundColor:e.primary},title:"Panel de Administraci\xf3n",children:(0,N.jsx)(i.A,{className:"w-5 h-5 text-white"})})]}),I.length>0?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{className:"mb-4 text-center text-sm text-gray-500",children:["Mostrando ",I.length," de ",j.length," productos"]}),(0,N.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:I.map((t,a)=>(0,N.jsxs)(o.P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.1*a,duration:.8},whileHover:{y:-10},className:"bg-white rounded-2xl shadow-lg overflow-hidden group",children:[(0,N.jsxs)("div",{className:"relative overflow-hidden",children:[(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)(o.P.img,{src:t.images&&t.images[0]||t.image,alt:t.name,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-500"}),t.images&&t.images.length>1&&(0,N.jsxs)("div",{className:"absolute top-2 right-2 bg-black/50 text-white px-2 py-1 rounded-full text-xs",children:["+",t.images.length-1]})]}),(0,N.jsxs)("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center space-x-4",children:[(0,N.jsx)(o.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>E(t),className:"w-12 h-12 bg-white rounded-full flex items-center justify-center text-gray-800 hover:bg-gray-100",children:(0,N.jsx)(c.A,{className:"w-5 h-5"})}),(0,N.jsx)(o.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>(e=>{const t=String(e.id);b(t)?f(t):y({id:t,name:e.name,price:e.price,image:e.images&&e.images[0]||e.image||"",category:"tecnologia"===e.category?"tech":"gifts",description:e.description})})(t),className:"w-12 h-12 rounded-full flex items-center justify-center ".concat(b(String(t.id))?"bg-red-500 text-white":"bg-white text-gray-800 hover:bg-gray-100"),children:(0,N.jsx)(l.A,{className:"w-5 h-5 ".concat(b(String(t.id))?"fill-current":"")})}),(0,N.jsx)(o.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{const e="Hola! Me interesa este producto:\n\n\u2022 ".concat(t.name,"\n\u2022 Precio: ").concat(t.price,"\n\n\xbfPodr\xedas darme m\xe1s informaci\xf3n?"),a="https://wa.me/573024547679?text=".concat(encodeURIComponent(e));window.open(a,"_blank")},className:"w-12 h-12 rounded-full flex items-center justify-center text-white",style:{backgroundColor:e.primary},children:(0,N.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,N.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.890-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})})})]})]}),(0,N.jsxs)("div",{className:"p-6",children:[(0,N.jsx)("h3",{className:"text-xl font-bold mb-2",style:{color:e.secondary},children:t.name}),(0,N.jsx)("p",{className:"text-gray-600 mb-4",children:t.description}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("span",{className:"text-2xl font-bold",style:{color:e.primary},children:t.price}),(0,N.jsxs)(o.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{const e="Hola! Me interesa este producto:\n\n\u2022 ".concat(t.name,"\n\u2022 Precio: ").concat(t.price,"\n\n\xbfPodr\xedas darme m\xe1s informaci\xf3n?"),a="https://wa.me/573024547679?text=".concat(encodeURIComponent(e));window.open(a,"_blank")},className:"px-4 py-2 rounded-lg text-white font-semibold flex items-center gap-1",style:{backgroundColor:e.accent},children:[(0,N.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:(0,N.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.890-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),"Consultar"]})]})]})]},t.id))})]}):(0,N.jsx)(o.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center py-16 mb-12",children:(0,N.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,N.jsx)("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full flex items-center justify-center",style:{backgroundColor:e.primaryLight},children:(0,N.jsx)(n.A,{className:"w-12 h-12",style:{color:e.primary}})}),(0,N.jsx)("h3",{className:"text-2xl font-bold mb-4",style:{color:e.secondary},children:"Pr\xf3ximamente nuevos productos"}),(0,N.jsx)("p",{className:"text-gray-600 mb-6",children:"Estamos preparando una incre\xedble selecci\xf3n de productos para ti. \xa1Mantente atento a las novedades!"}),t&&(0,N.jsx)(o.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>S(!0),className:"px-6 py-3 rounded-lg text-white font-semibold",style:{backgroundColor:e.primary},children:"Agregar Productos"})]})}),(0,N.jsx)(o.P.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:1,duration:.8},className:"text-center",children:(0,N.jsx)(o.P.button,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},onClick:()=>v("/shop"),className:"px-8 py-4 rounded-full text-white font-semibold text-lg shadow-lg hover:shadow-xl transition-all",style:{backgroundColor:e.primary},children:j.length>0?"Ver Todos los Productos (".concat(j.length,")"):"Explorar Cat\xe1logo"})}),T&&(0,N.jsx)("div",{className:"fixed inset-0 bg-black/50 z-[9999] flex items-center justify-center p-4",onClick:()=>E(null),children:(0,N.jsx)("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)("button",{onClick:()=>E(null),className:"absolute top-4 right-4 z-10 p-2 bg-white rounded-full shadow-lg hover:bg-gray-100",children:(0,N.jsx)(d.A,{className:"w-5 h-5"})}),(0,N.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 p-8",children:[(0,N.jsx)("div",{children:T.images&&T.images.length>0?(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsx)("img",{src:T.images[0],alt:T.name,className:"w-full h-96 object-cover rounded-lg"}),T.images.length>1&&(0,N.jsx)("div",{className:"grid grid-cols-4 gap-2",children:T.images.slice(1).map((e,t)=>(0,N.jsx)("img",{src:e,alt:"".concat(T.name," ").concat(t+2),className:"w-full h-20 object-cover rounded cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>{const e=[...T.images];[e[0],e[t+1]]=[e[t+1],e[0]],E((0,s.A)((0,s.A)({},T),{},{images:e}))}},t))})]}):(0,N.jsx)("img",{src:T.image,alt:T.name,className:"w-full h-96 object-cover rounded-lg mb-4"})}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h2",{className:"text-3xl font-bold mb-4",style:{color:e.secondary},children:T.name}),(0,N.jsx)("p",{className:"text-gray-600 mb-6 leading-relaxed text-lg",children:T.description}),(0,N.jsx)("div",{className:"mb-8",children:(0,N.jsx)("span",{className:"text-4xl font-bold",style:{color:e.primary},children:T.price})}),(0,N.jsx)("div",{className:"space-y-4",children:t?(0,N.jsx)("button",{onClick:()=>E(null),className:"w-full py-3 border border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition-colors",children:"Cerrar"}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("button",{onClick:()=>{const e="Hola! Me interesa este producto:\n\n\u2022 ".concat(T.name,"\n\u2022 Precio: ").concat(T.price,"\n\n\xbfPodr\xedas darme m\xe1s informaci\xf3n y disponibilidad?"),t="https://wa.me/573024547679?text=".concat(encodeURIComponent(e));window.open(t,"_blank"),E(null)},className:"w-full py-4 text-white font-semibold text-lg rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2",style:{backgroundColor:e.primary},children:[(0,N.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,N.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.890-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),"Consultar por WhatsApp"]}),(0,N.jsx)("button",{onClick:()=>E(null),className:"w-full py-3 border border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50 transition-colors",children:"Seguir Comprando"})]})})]})]})]})})}),(0,N.jsx)(P,{isOpen:k,onClose:()=>{S(!1),F()}})]})})}},9354:(e,t,a)=>{a.d(t,{P:()=>i});var s=a(2555),r=a(4131),o=a(4893);const i=(0,r.v)()((0,o.Zr)((e,t)=>({cart:[],addToCart:a=>e(e=>{const r=e.cart.find(e=>e.id===a.id),o={type:"success",title:"Producto agregado",message:"".concat(a.name," se agreg\xf3 al carrito"),icon:"cart"};return setTimeout(()=>{t().addToast(o)},100),r?{cart:e.cart.map(e=>e.id===a.id?(0,s.A)((0,s.A)({},e),{},{quantity:e.quantity+1}):e)}:{cart:[...e.cart,(0,s.A)((0,s.A)({},a),{},{quantity:1})]}}),removeFromCart:t=>e(e=>({cart:e.cart.filter(e=>e.id!==t)})),updateQuantity:(t,a)=>e(e=>({cart:a<=0?e.cart.filter(e=>e.id!==t):e.cart.map(e=>e.id===t?(0,s.A)((0,s.A)({},e),{},{quantity:a}):e)})),clearCart:()=>e({cart:[]}),getCartTotal:()=>{const{cart:e}=t();return e.reduce((e,t)=>e+("string"===typeof t.price?parseFloat(t.price.replace(/[$.,]/g,"")):t.price)*t.quantity,0)},getCartItemsCount:()=>{const{cart:e}=t();return e.reduce((e,t)=>e+t.quantity,0)},favorites:[],addToFavorites:a=>e(e=>{const s={type:"success",title:"Agregado a favoritos",message:"".concat(a.name," se agreg\xf3 a tus favoritos"),icon:"heart"};return setTimeout(()=>{t().addToast(s)},100),{favorites:[...e.favorites,a]}}),removeFromFavorites:a=>e(e=>{const s=e.favorites.find(e=>e.id===a);if(s){const e={type:"info",title:"Removido de favoritos",message:"".concat(s.name," se removi\xf3 de favoritos"),icon:"heart"};setTimeout(()=>{t().addToast(e)},100)}return{favorites:e.favorites.filter(e=>e.id!==a)}}),isFavorite:e=>{const{favorites:a}=t();return a.some(t=>t.id===e)},searchTerm:"",selectedCategory:"all",priceRange:[0,3e6],setSearchTerm:t=>e({searchTerm:t}),setSelectedCategory:t=>e({selectedCategory:t}),setPriceRange:t=>e({priceRange:t}),selectedProduct:null,setSelectedProduct:t=>e({selectedProduct:t}),toasts:[],addToast:t=>{const a=Date.now().toString(),r=(0,s.A)((0,s.A)({},t),{},{id:a});e(e=>({toasts:[...e.toasts,r]})),setTimeout(()=>{e(e=>({toasts:e.toasts.filter(e=>e.id!==a)}))},3e3)},removeToast:t=>e(e=>({toasts:e.toasts.filter(e=>e.id!==t)})),products:[],loading:!1,loadProducts:async()=>{e({loading:!0});try{const{productService:t}=await Promise.all([a.e(466),a.e(565)]).then(a.bind(a,6565)),s=await t.getProducts();e({products:s,loading:!1})}catch(t){console.error("Error loading products:",t),e({loading:!1})}},addProduct:async e=>{try{const{productService:s}=await Promise.all([a.e(466),a.e(565)]).then(a.bind(a,6565));await s.addProduct(e),t().loadProducts()}catch(s){console.error("Error adding product:",s)}},updateProduct:async(e,s)=>{try{const{productService:r}=await Promise.all([a.e(466),a.e(565)]).then(a.bind(a,6565));await r.updateProduct(e,s),t().loadProducts()}catch(r){console.error("Error updating product:",r)}},deleteProduct:async e=>{try{const{productService:s}=await Promise.all([a.e(466),a.e(565)]).then(a.bind(a,6565));await s.deleteProduct(e),t().loadProducts()}catch(s){console.error("Error deleting product:",s)}}}),{name:"cleopatra-store",partialize:e=>({cart:e.cart,favorites:e.favorites})}))}}]);
//# sourceMappingURL=403.4af47cc6.chunk.js.map