/*! For license information please see 155.58cf77d6.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkcleopatra_regalos=self.webpackChunkcleopatra_regalos||[]).push([[155],{67:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},924:(e,s,a)=>{a.d(s,{A:()=>g});var t=a(5043),r=a(12),l=a(6938),i=a(1861),c=a(5087),n=a(1990),o=a(9855),d=a(4265),m=a(579);const g=e=>{let{products:s,loading:a,onEdit:g,onDelete:x}=e;const[p,h]=(0,t.useState)(null),[u,b]=(0,t.useState)(null),y=e=>"tech"===e?"Tecnolog\xeda":"Regalos",j=e=>e?new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}):"Sin fecha";return a?(0,m.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsx)("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,m.jsx)("p",{className:"text-gray-600",children:"Cargando productos..."})]})}):0===s.length?(0,m.jsxs)("div",{className:"text-center py-12",children:[(0,m.jsx)(n.A,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,m.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No hay productos"}),(0,m.jsx)("p",{className:"text-gray-600",children:"Comienza agregando tu primer producto al cat\xe1logo."})]}):(0,m.jsxs)("div",{className:"space-y-6",children:[(0,m.jsx)("div",{className:"grid gap-6",children:s.map((e,s)=>{return(0,m.jsx)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-lg transition-shadow",children:(0,m.jsxs)("div",{className:"flex items-start gap-6",children:[(0,m.jsxs)("div",{className:"flex-shrink-0 relative",children:[(0,m.jsx)("img",{src:e.images&&e.images[0]||e.image||"/placeholder-image.jpg",alt:e.name,className:"w-24 h-24 object-cover rounded-lg border border-gray-200",onError:e=>{e.target.src="/placeholder-image.jpg"}}),e.images&&e.images.length>1&&(0,m.jsxs)("div",{className:"absolute -top-2 -right-2 bg-blue-500 text-white text-xs px-2 py-1 rounded-full",children:["+",e.images.length-1]})]}),(0,m.jsx)("div",{className:"flex-1 min-w-0",children:(0,m.jsxs)("div",{className:"flex items-start justify-between",children:[(0,m.jsxs)("div",{className:"flex-1",children:[(0,m.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e.name}),(0,m.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:e.description}),(0,m.jsxs)("div",{className:"flex items-center gap-4",children:[(0,m.jsx)("span",{className:"text-xl font-bold text-green-600",children:e.price}),(0,m.jsx)("span",{className:"px-3 py-1 text-xs font-medium rounded-full ".concat((a=e.category,"tech"===a?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800")),children:y(e.category)}),(0,m.jsxs)("span",{className:"text-sm text-gray-500",children:["Creado: ",j(e.createdAt)]})]})]}),(0,m.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,m.jsx)("button",{onClick:()=>h(e),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver detalles",children:(0,m.jsx)(c.A,{className:"w-4 h-4"})}),(0,m.jsx)("button",{onClick:()=>g(e),className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Editar producto",children:(0,m.jsx)(d.A,{className:"w-4 h-4"})}),(0,m.jsx)("button",{onClick:()=>b(e.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar producto",children:(0,m.jsx)(o.A,{className:"w-4 h-4"})})]})]})})]})},e.id);var a})}),(0,m.jsx)(l.N,{children:p&&(0,m.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,m.jsx)(r.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:(0,m.jsxs)("div",{className:"p-6",children:[(0,m.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,m.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Detalles del Producto"}),(0,m.jsx)("button",{onClick:()=>h(null),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg",children:"\xd7"})]}),(0,m.jsxs)("div",{className:"space-y-6",children:[p.images&&p.images.length>0?(0,m.jsxs)("div",{className:"space-y-4",children:[(0,m.jsx)("img",{src:p.images[0],alt:p.name,className:"w-full h-64 object-cover rounded-lg"}),p.images.length>1&&(0,m.jsx)("div",{className:"grid grid-cols-4 gap-2",children:p.images.slice(1).map((e,s)=>(0,m.jsx)("img",{src:e,alt:"".concat(p.name," ").concat(s+2),className:"w-full h-16 object-cover rounded"},s))})]}):(0,m.jsx)("img",{src:p.image||"/placeholder-image.jpg",alt:p.name,className:"w-full h-64 object-cover rounded-lg"}),(0,m.jsxs)("div",{children:[(0,m.jsx)("h4",{className:"text-xl font-semibold mb-2",children:p.name}),(0,m.jsx)("p",{className:"text-gray-600 mb-4",children:p.description}),(0,m.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{className:"font-medium text-gray-700",children:"Precio:"}),(0,m.jsx)("span",{className:"ml-2 text-green-600 font-bold",children:p.price})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{className:"font-medium text-gray-700",children:"Categor\xeda:"}),(0,m.jsx)("span",{className:"ml-2",children:y(p.category)})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{className:"font-medium text-gray-700",children:"ID:"}),(0,m.jsx)("span",{className:"ml-2 font-mono text-xs",children:p.id})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{className:"font-medium text-gray-700",children:"Creado:"}),(0,m.jsx)("span",{className:"ml-2",children:j(p.createdAt)})]})]})]}),(0,m.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,m.jsxs)("button",{onClick:()=>{g(p),h(null)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[(0,m.jsx)(d.A,{className:"w-4 h-4"}),"Editar"]}),(0,m.jsxs)("button",{onClick:()=>{b(p.id),h(null)},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[(0,m.jsx)(o.A,{className:"w-4 h-4"}),"Eliminar"]})]})]})]})})})}),(0,m.jsx)(l.N,{children:u&&(0,m.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,m.jsx)(r.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl max-w-md w-full p-6",children:(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,m.jsx)(i.A,{className:"w-6 h-6 text-red-600"})}),(0,m.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"\xbfEliminar producto?"}),(0,m.jsx)("p",{className:"text-gray-600 mb-6",children:"Esta acci\xf3n no se puede deshacer. El producto ser\xe1 eliminado permanentemente."}),(0,m.jsxs)("div",{className:"flex gap-3",children:[(0,m.jsx)("button",{onClick:()=>b(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),(0,m.jsx)("button",{onClick:()=>{x(u),b(null)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Eliminar"})]})]})})})})]})}},3944:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},4265:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},6151:(e,s,a)=>{a.d(s,{A:()=>x});a(5043);var t=a(12),r=a(1990),l=a(1419),i=a(3944),c=a(1639);const n=(0,c.A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),o=(0,c.A)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),d=(0,c.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var m=a(3212),g=a(579);const x=e=>{let{products:s}=e;const a=s.length,c=s.filter(e=>"tech"===e.category).length,x=s.filter(e=>"gifts"===e.category).length,p=s.reduce((e,s)=>{let a=0;return"string"===typeof s.price?a=parseFloat(s.price.replace(/[$.,]/g,"")):"number"===typeof s.price&&(a=s.price),e+(isNaN(a)?0:a)},0),h=s.filter(e=>{if(!e.createdAt)return!1;const s=new Date(e.createdAt),a=new Date;return a.setDate(a.getDate()-7),s>a}).length,u=[{title:"Total Productos",value:a,icon:r.A,color:"bg-blue-500",bgColor:"bg-blue-50",textColor:"text-blue-600"},{title:"Tecnolog\xeda",value:c,icon:l.A,color:"bg-purple-500",bgColor:"bg-purple-50",textColor:"text-purple-600"},{title:"Regalos",value:x,icon:i.A,color:"bg-yellow-500",bgColor:"bg-yellow-50",textColor:"text-yellow-600"},{title:"Valor Total",value:"$".concat(p.toLocaleString()),icon:n,color:"bg-green-500",bgColor:"bg-green-50",textColor:"text-green-600"},{title:"Agregados (7 d\xedas)",value:h,icon:o,color:"bg-indigo-500",bgColor:"bg-indigo-50",textColor:"text-indigo-600"},{title:"Promedio Precio",value:a>0?"$".concat(Math.round(p/a).toLocaleString()):"$0",icon:d,color:"bg-pink-500",bgColor:"bg-pink-50",textColor:"text-pink-600"}],b=()=>s.filter(e=>e.createdAt).sort((e,s)=>new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime()).slice(0,5);return(0,g.jsxs)("div",{className:"space-y-8",children:[(0,g.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map((e,s)=>{const a=e.icon;return(0,g.jsx)(t.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"".concat(e.bgColor," rounded-xl p-6 border border-gray-100"),children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"text-sm font-medium text-gray-600 mb-1",children:e.title}),(0,g.jsx)("p",{className:"text-2xl font-bold ".concat(e.textColor),children:e.value})]}),(0,g.jsx)("div",{className:"".concat(e.color," p-3 rounded-lg"),children:(0,g.jsx)(a,{className:"w-6 h-6 text-white"})})]})},e.title)})}),(0,g.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,g.jsxs)(t.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6},className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Distribuci\xf3n por Categor\xeda"}),a>0?(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)("div",{className:"w-4 h-4 bg-blue-500 rounded"}),(0,g.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Tecnolog\xeda"})]}),(0,g.jsxs)("span",{className:"text-sm text-gray-600",children:[c," (",Math.round(c/a*100),"%)"]})]}),(0,g.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,g.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-500",style:{width:"".concat(c/a*100,"%")}})}),(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),(0,g.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Regalos"})]}),(0,g.jsxs)("span",{className:"text-sm text-gray-600",children:[x," (",Math.round(x/a*100),"%)"]})]}),(0,g.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,g.jsx)("div",{className:"bg-yellow-500 h-2 rounded-full transition-all duration-500",style:{width:"".concat(x/a*100,"%")}})})]}):(0,g.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,g.jsx)(r.A,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,g.jsx)("p",{children:"No hay productos para mostrar"})]})]}),(0,g.jsxs)(t.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.7},className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Productos M\xe1s Caros"}),a>0?(0,g.jsx)("div",{className:"space-y-4",children:s.sort((e,s)=>{let a=0,t=0;return"string"===typeof e.price?a=parseFloat(e.price.replace(/[$.,]/g,"")):"number"===typeof e.price&&(a=e.price),"string"===typeof s.price?t=parseFloat(s.price.replace(/[$.,]/g,"")):"number"===typeof s.price&&(t=s.price),t-a}).slice(0,5).map((e,s)=>(0,g.jsxs)("div",{className:"flex items-center gap-4",children:[(0,g.jsx)("div",{className:"flex-shrink-0",children:(0,g.jsx)("img",{src:e.image,alt:e.name,className:"w-12 h-12 object-cover rounded-lg"})}),(0,g.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,g.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",dangerouslySetInnerHTML:{__html:(0,m.ZD)(e.name)}}),(0,g.jsx)("p",{className:"text-xs text-gray-500 capitalize",children:"tech"===e.category?"Tecnolog\xeda":"Regalos"})]}),(0,g.jsx)("div",{className:"text-sm font-semibold text-green-600",children:"string"===typeof e.price?e.price:"$".concat(e.price.toLocaleString())})]},e.id))}):(0,g.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,g.jsx)(d,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,g.jsx)("p",{children:"No hay productos para mostrar"})]})]})]}),(0,g.jsxs)(t.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white rounded-xl border border-gray-200 p-6",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Productos Recientes"}),b().length>0?(0,g.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b().map(e=>(0,g.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,g.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-32 object-cover rounded-lg mb-3"}),(0,g.jsx)("h4",{className:"font-medium text-gray-900 mb-1 truncate",dangerouslySetInnerHTML:{__html:(0,m.ZD)(e.name)}}),(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsx)("span",{className:"text-sm text-green-600 font-semibold",children:"string"===typeof e.price?e.price:"$".concat(e.price.toLocaleString())}),(0,g.jsx)("span",{className:"text-xs text-gray-500 capitalize",children:"tech"===e.category?"Tecnolog\xeda":"Regalos"})]})]},e.id))}):(0,g.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,g.jsx)(o,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),(0,g.jsx)("p",{children:"No hay productos recientes"})]})]})]})}},6666:(e,s,a)=>{a.d(s,{A:()=>p});var t=a(2555),r=a(5043),l=a(12),i=a(5613),c=a(1639);const n=(0,c.A)("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),o=(0,c.A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var d=a(67),m=a(8693),g=a(8421),x=a(579);const p=e=>{let{product:s,onSave:c,onCancel:p}=e;const{colors:h}=(0,g.D)(),[u,b]=(0,r.useState)(!1),[y,j]=(0,r.useState)({}),[f,N]=(0,r.useState)([]),[v,w]=(0,r.useState)({name:"",price:"",category:"tech",images:[],description:""});(0,r.useEffect)(()=>{if(s){let e="";"string"===typeof s.price?e=s.price.replace(/[$.,]/g,""):"number"===typeof s.price&&(e=String(s.price)),w({name:s.name,price:e,category:s.category,images:s.images||[s.image],description:s.description}),N(s.images||[s.image])}else w({name:"",price:"",category:"tech",images:[],description:""}),N([]);j({})},[s]);const k=e=>{if(e.startsWith("data:image/"))return!0;try{return new URL(e),!0}catch(s){return!1}},[A,C]=(0,r.useState)(""),[P,S]=(0,r.useState)(!1),E=()=>{if(A&&k(A)&&!v.images.includes(A)){const e=[...v.images,A];w((0,t.A)((0,t.A)({},v),{},{images:e})),N(e),C("")}},D=async e=>{S(!0);try{const s=await(e=>new Promise(s=>{const a=document.createElement("canvas"),t=a.getContext("2d"),r=new Image;r.onload=()=>{let{width:e,height:l}=r;e>l?e>800&&(l=800*l/e,e=800):l>600&&(e=600*e/l,l=600),a.width=e,a.height=l,t.drawImage(r,0,0,e,l),s(a.toDataURL("image/jpeg",.7))};const l=new FileReader;l.onload=e=>{var s;r.src=null===(s=e.target)||void 0===s?void 0:s.result},l.readAsDataURL(e)}))(e);if(s&&!v.images.includes(s)){const e=[...v.images,s];w((0,t.A)((0,t.A)({},v),{},{images:e})),N(e)}}catch(s){console.error("Error uploading file:",s)}finally{S(!1)}};return(0,x.jsx)("div",{className:"max-w-4xl mx-auto px-4 lg:px-0",children:(0,x.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};v.name.trim()||(e.name="El nombre es requerido"),v.price.trim()?(isNaN(Number(v.price))||Number(v.price)<=0)&&(e.price="El precio debe ser un n\xfamero v\xe1lido mayor a 0"):e.price="El precio es requerido",0===v.images.length?e.images="Al menos una imagen es requerida":v.images.filter(e=>!k(e)).length>0&&(e.images="Todas las URLs deben ser v\xe1lidas");return v.description.trim()||(e.description="La descripci\xf3n es requerida"),j(e),0===Object.keys(e).length})()){b(!0);try{const{productService:e}=await Promise.all([a.e(466),a.e(565)]).then(a.bind(a,6565)),t={name:v.name.trim(),price:"$".concat(Number(v.price).toLocaleString()),category:"gifts"===v.category?"regalos":"tecnologia",image:v.images[0]||"https://via.placeholder.com/300x200",images:v.images,description:v.description.trim()};s?await e.updateProduct(s.id.toString(),t):await e.addProduct(t),c()}catch(t){console.error("Error saving product:",t),j({submit:"Error al guardar el producto. Int\xe9ntalo de nuevo."})}finally{b(!1)}}},className:"space-y-6 lg:space-y-8",children:[(0,x.jsxs)("div",{className:"text-center lg:text-left",children:[(0,x.jsx)("h3",{className:"text-xl lg:text-2xl font-bold text-gray-900",children:s?"Editar Producto":"Nuevo Producto"}),(0,x.jsx)("p",{className:"text-gray-600 mt-1 text-sm lg:text-base",children:s?"Modifica los datos del producto":"Completa la informaci\xf3n del nuevo producto"})]}),y.submit&&(0,x.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[(0,x.jsx)(i.A,{className:"w-5 h-5 text-red-500"}),(0,x.jsx)("span",{className:"text-red-700",children:y.submit})]}),(0,x.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8",children:[(0,x.jsxs)("div",{className:"space-y-4 lg:space-y-6",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Producto *"}),(0,x.jsx)("input",{type:"text",value:v.name,onChange:e=>w((0,t.A)((0,t.A)({},v),{},{name:e.target.value})),className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(y.name?"border-red-500":"border-gray-300"),placeholder:"Ej: iPhone 15 Pro Max"}),y.name&&(0,x.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.name})]}),(0,x.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Precio *"}),(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,x.jsx)("input",{type:"number",value:v.price,onChange:e=>w((0,t.A)((0,t.A)({},v),{},{price:e.target.value})),className:"w-full pl-8 pr-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(y.price?"border-red-500":"border-gray-300"),placeholder:"0",min:"0",step:"0.01"})]}),y.price&&(0,x.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.price})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categor\xeda *"}),(0,x.jsxs)("select",{value:v.category,onChange:e=>w((0,t.A)((0,t.A)({},v),{},{category:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,x.jsx)("option",{value:"tech",children:"Tecnolog\xeda"}),(0,x.jsx)("option",{value:"gifts",children:"Regalos"})]})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descripci\xf3n *"}),(0,x.jsx)("textarea",{value:v.description,onChange:e=>w((0,t.A)((0,t.A)({},v),{},{description:e.target.value})),rows:4,className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none ".concat(y.description?"border-red-500":"border-gray-300"),placeholder:"Describe las caracter\xedsticas principales del producto..."}),y.description&&(0,x.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.description})]})]}),(0,x.jsxs)("div",{className:"space-y-6",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Im\xe1genes del Producto *"}),(0,x.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,x.jsxs)("div",{className:"flex gap-2",children:[(0,x.jsx)("input",{type:"url",value:A,onChange:e=>C(e.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://ejemplo.com/imagen.jpg",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),E())}),(0,x.jsx)("button",{type:"button",onClick:E,className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Agregar"})]}),(0,x.jsxs)("div",{className:"flex gap-2",children:[(0,x.jsxs)("button",{type:"button",onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.multiple=!0,e.onchange=e=>{Array.from(e.target.files||[]).forEach(e=>D(e))},e.click()},disabled:P,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 hover:bg-blue-50 transition-colors disabled:opacity-50",children:[(0,x.jsx)(n,{className:"w-5 h-5"}),P?"Subiendo...":"Subir Archivos"]}),(0,x.jsxs)("button",{type:"button",onClick:()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.capture="environment",e.onchange=e=>{var s;const a=null===(s=e.target.files)||void 0===s?void 0:s[0];a&&D(a)},e.click()},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-400 hover:bg-green-50 transition-colors",children:[(0,x.jsx)(o,{className:"w-5 h-5"}),"Usar C\xe1mara"]})]})]}),v.images.length>0&&(0,x.jsx)("div",{className:"space-y-2 mb-2",children:v.images.map((e,s)=>(0,x.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg",children:[(0,x.jsx)("img",{src:e,alt:"Imagen ".concat(s+1),className:"w-12 h-12 object-cover rounded"}),(0,x.jsx)("span",{className:"flex-1 text-sm text-gray-600 truncate",children:e}),(0,x.jsx)("button",{type:"button",onClick:()=>(e=>{const s=v.images.filter((s,a)=>a!==e);w((0,t.A)((0,t.A)({},v),{},{images:s})),N(s)})(s),className:"p-1 text-red-600 hover:text-red-800 rounded",children:"\xd7"})]},s))}),y.images&&(0,x.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.images})]}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Vista Previa (",f.length," im\xe1genes)"]}),(0,x.jsx)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:f.length>0?(0,x.jsx)("div",{className:"grid grid-cols-2 gap-2",children:f.map((e,s)=>(0,x.jsxs)("div",{className:"relative group",children:[(0,x.jsx)("img",{src:e,alt:"Preview ".concat(s+1),className:"w-full h-32 object-cover rounded-lg"}),(0,x.jsx)("div",{className:"absolute top-2 right-2 bg-black/50 text-white px-2 py-1 rounded text-xs",children:s+1})]},s))}):(0,x.jsxs)("div",{className:"flex flex-col items-center justify-center h-32 text-gray-400",children:[(0,x.jsx)(d.A,{className:"w-8 h-8 mb-2"}),(0,x.jsx)("p",{className:"text-sm",children:"Las im\xe1genes aparecer\xe1n aqu\xed"})]})})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Im\xe1genes Sugeridas"}),(0,x.jsx)("div",{className:"grid grid-cols-2 gap-2",children:{tech:["https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?w=400","https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400","https://images.unsplash.com/photo-1542291026-7eec264c27ff?w=400","https://images.unsplash.com/photo-1525547719571-a2d4ac8945e2?w=400"],gifts:["https://images.unsplash.com/photo-1515562141207-7a88fb7ce338?w=400","https://images.unsplash.com/photo-1524592094714-0f0654e20314?w=400","https://images.unsplash.com/photo-1611652022419-a9419f74343d?w=400","https://images.unsplash.com/photo-1549062572-544a64fb0c56?w=400"]}[v.category].map((e,s)=>(0,x.jsxs)("button",{type:"button",onClick:()=>{if(!v.images.includes(e)){const s=[...v.images,e];w((0,t.A)((0,t.A)({},v),{},{images:s})),N(s)}},className:"relative group overflow-hidden rounded-lg border-2 border-transparent hover:border-blue-500 transition-colors",children:[(0,x.jsx)("img",{src:e,alt:"Sugerencia ".concat(s+1),className:"w-full h-20 object-cover"}),(0,x.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors"}),v.images.includes(e)&&(0,x.jsx)("div",{className:"absolute inset-0 bg-green-500/20 flex items-center justify-center",children:(0,x.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713"})})]},s))})]})]})]}),(0,x.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-end gap-3 sm:gap-4 pt-4 lg:pt-6 border-t border-gray-200",children:[(0,x.jsx)("button",{type:"button",onClick:p,className:"px-4 lg:px-6 py-2 lg:py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm lg:text-base",children:"Cancelar"}),(0,x.jsxs)(l.P.button,{type:"submit",disabled:u,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center justify-center gap-2 px-4 lg:px-6 py-2 lg:py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm lg:text-base",children:[u?(0,x.jsx)("div",{className:"w-3 h-3 lg:w-4 lg:h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):(0,x.jsx)(m.A,{className:"w-3 h-3 lg:w-4 lg:h-4"}),(0,x.jsx)("span",{className:"hidden sm:inline",children:u?"Guardando...":s?"Actualizar":"Crear Producto"}),(0,x.jsx)("span",{className:"sm:hidden",children:u?"Guardando...":s?"Actualizar":"Crear"})]})]})]})})}},8693:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])}}]);
//# sourceMappingURL=155.58cf77d6.chunk.js.map