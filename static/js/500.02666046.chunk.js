/*! For license information please see 500.02666046.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkcleopatra_regalos=self.webpackChunkcleopatra_regalos||[]).push([[500],{2489:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},2500:(e,s,a)=>{a.r(s),a.d(s,{default:()=>K});var t=a(5043),l=a(12),r=a(9981),i=a(2629),o=a(3946),n=a(6963),c=a(1639);const d=(0,c.A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var m=a(1419);const x=(0,c.A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);var h=a(614);const p=(0,c.A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var u=a(1360),y=a(8421),g=a(9354),b=a(4292),j=a(6938),f=a(4918),v=a(9855),N=a(579);const w=e=>{let{isOpen:s,onClose:a}=e;const{colors:t}=(0,y.D)(),{favorites:r,removeFromFavorites:i,addToCart:o}=(0,g.P)();return(0,N.jsx)(j.N,{children:s&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-[10000] modal-overlay",onClick:a}),(0,N.jsxs)(l.P.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3},className:"fixed right-0 top-0 h-screen w-96 bg-white shadow-xl z-[10001] flex flex-col modal-content",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,N.jsx)(f.A,{className:"w-5 h-5 text-red-500"}),(0,N.jsx)("h2",{className:"text-xl font-bold",style:{color:t.secondary},children:"Favoritos"})]}),(0,N.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-full",children:(0,N.jsx)(h.A,{className:"w-5 h-5"})})]}),(0,N.jsx)("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin",children:0===r.length?(0,N.jsxs)("div",{className:"text-center py-12",children:[(0,N.jsx)(f.A,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,N.jsx)("p",{className:"text-gray-500",children:"No tienes productos favoritos"}),(0,N.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Agrega productos a favoritos para verlos aqu\xed"})]}):(0,N.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,N.jsxs)(l.P.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white border rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[(0,N.jsxs)("div",{className:"flex space-x-4",children:[(0,N.jsx)("img",{src:e.image,alt:e.name,className:"w-20 h-20 object-cover rounded-lg"}),(0,N.jsxs)("div",{className:"flex-1",children:[(0,N.jsx)("h3",{className:"font-semibold text-sm mb-1",children:e.name}),(0,N.jsx)("p",{className:"text-gray-600 text-xs mb-2 line-clamp-2",children:e.description}),(0,N.jsx)("p",{className:"font-bold",style:{color:t.primary},children:e.price})]})]}),(0,N.jsxs)("div",{className:"flex space-x-2 mt-4",children:[(0,N.jsxs)(l.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{return o(s=e),void i(s.id);var s},className:"flex-1 py-2 px-3 rounded-lg text-white text-sm font-medium flex items-center justify-center space-x-1",style:{backgroundColor:t.primary},children:[(0,N.jsx)(m.A,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:"Agregar"})]}),(0,N.jsx)("button",{onClick:()=>i(e.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:(0,N.jsx)(v.A,{className:"w-4 h-4"})})]})]},e.id))})}),r.length>0&&(0,N.jsx)("div",{className:"border-t p-6",children:(0,N.jsxs)("p",{className:"text-center text-gray-600 text-sm",children:[r.length," producto",1!==r.length?"s":""," en favoritos"]})})]})]})})};var k=a(2574),C=a(2736);const A=()=>{const{colors:e}=(0,y.D)(),{items:s,removeItem:a,clearFavorites:r}=(0,C.I)(),[i,o]=(0,t.useState)(!1);return(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsxs)(l.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!i),className:"relative p-3 rounded-full text-white shadow-lg",style:{backgroundColor:e.primary},children:[(0,N.jsx)(f.A,{className:"w-6 h-6",fill:s.length>0?"currentColor":"none"}),s.length>0&&(0,N.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:s.length})]}),(0,N.jsx)(j.N,{children:i&&(0,N.jsxs)(l.P.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 top-full mt-2 w-80 sm:w-96 max-w-[90vw] bg-white rounded-2xl shadow-2xl border z-50",style:{borderColor:e.primary},children:[(0,N.jsx)("div",{className:"p-4 border-b",style:{borderColor:e.primary},children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("h3",{className:"font-bold text-lg",style:{color:e.secondary},children:"Mis Favoritos"}),(0,N.jsx)("button",{onClick:()=>o(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:(0,N.jsx)(h.A,{className:"w-5 h-5"})})]})}),(0,N.jsx)("div",{className:"max-h-60 sm:max-h-80 overflow-y-auto",children:0===s.length?(0,N.jsxs)("div",{className:"p-8 text-center",children:[(0,N.jsx)(f.A,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,N.jsx)("p",{className:"text-gray-500",children:"No tienes favoritos a\xfan"})]}):(0,N.jsx)("div",{className:"p-4 space-y-3",children:s.map(s=>(0,N.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 space-y-3",children:[(0,N.jsxs)("div",{className:"flex items-center gap-3",children:[(0,N.jsx)("img",{src:s.image,alt:s.name,className:"w-12 h-12 object-cover rounded-lg flex-shrink-0"}),(0,N.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,N.jsx)("h4",{className:"font-medium text-sm truncate",style:{color:e.secondary},children:s.name}),(0,N.jsx)("p",{className:"text-xs text-gray-500 capitalize",children:"tech"===s.category?"Tecnolog\xeda":"Regalos"}),(0,N.jsx)("p",{className:"font-semibold text-sm",style:{color:e.primary},children:"string"===typeof s.price?s.price:"$".concat(s.price.toLocaleString())})]}),(0,N.jsx)("button",{onClick:()=>a(s.id),className:"p-1 text-red-500 hover:bg-red-50 rounded-full flex-shrink-0",children:(0,N.jsx)(h.A,{className:"w-4 h-4"})})]}),(0,N.jsx)("div",{className:"flex gap-2",children:(0,N.jsx)("button",{onClick:()=>{const e="Hola! Me interesa este producto:\n\n\u2022 ".concat(s.name,"\n\u2022 Precio: ").concat("string"===typeof s.price?s.price:"$".concat(s.price.toLocaleString()),"\n\n\xbfPodr\xedas darme m\xe1s informaci\xf3n?"),a="https://wa.me/573024547679?text=".concat(encodeURIComponent(e));window.open(a,"_blank"),o(!1)},className:"flex-1 py-2 px-3 text-xs font-medium text-white rounded-lg",style:{backgroundColor:e.primary},children:"Consultar"})})]},s.id))})}),s.length>0&&(0,N.jsxs)("div",{className:"p-4 border-t space-y-3",children:[(0,N.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,N.jsxs)(l.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{const e=(()=>{if(0===s.length)return"";let e="\xa1Hola! Me interesan estos productos de mi lista de favoritos:\n\n";return s.forEach((s,a)=>{e+="".concat(a+1,". ").concat(s.name,"\n"),e+="   Precio: ".concat("string"===typeof s.price?s.price:"$".concat(s.price.toLocaleString()),"\n"),e+="   Categor\xeda: ".concat("tech"===s.category?"Tecnolog\xeda":"Regalos","\n\n")}),e+="Me gustar\xeda recibir m\xe1s informaci\xf3n sobre estos productos. \xa1Gracias!",encodeURIComponent(e)})(),a="https://wa.me/573024547679?text=".concat(e);window.open(a,"_blank"),o(!1)},className:"flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg text-white font-semibold text-sm",style:{backgroundColor:e.primary},children:[(0,N.jsx)(k.A,{className:"w-4 h-4"}),(0,N.jsx)("span",{className:"hidden sm:inline",children:"Consultar por WhatsApp"}),(0,N.jsx)("span",{className:"sm:hidden",children:"Consultar Todos"})]}),(0,N.jsx)("button",{onClick:r,className:"p-3 text-red-500 hover:bg-red-50 rounded-lg self-center",children:(0,N.jsx)(v.A,{className:"w-4 h-4"})})]}),(0,N.jsxs)("p",{className:"text-xs text-gray-500 text-center",children:[s.length," producto",1!==s.length?"s":""," en favoritos"]})]})]})})]})};var P=a(7950),S=a(4459),T=a(7095),M=a(7365),E=a(2489),F=a(9493),I=a(5327),D=a(2555),H=a(5088),O=a(4319),L=a(4285),q=a(1990),z=a(9292),R=a(5087);const V=e=>{var s,a,r,i,o,n,c,d;let{isOpen:m,onClose:x}=e;const{colors:p}=(0,y.D)(),{user:u,isAdmin:g}=(0,b.A)(),[f,v]=(0,t.useState)([]),[w,k]=(0,t.useState)(null),[C,A]=(0,t.useState)(""),[P,S]=(0,t.useState)("all");(0,t.useEffect)(()=>(m?(document.body.style.overflow="hidden",T()):document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[m]);const T=()=>{const e=JSON.parse(localStorage.getItem("cleopatra-orders")||"[]");if(g)v(e);else{const s=e.filter(e=>{var s;return(null===(s=e.shipping)||void 0===s?void 0:s.email)===(null===u||void 0===u?void 0:u.email)});v(s)}},M=(e,s)=>{const a=f.map(a=>a.id===e?(0,D.A)((0,D.A)({},a),{},{status:s}):a);v(a),localStorage.setItem("cleopatra-orders",JSON.stringify(a))},E=f.filter(e=>{var s,a;const t=e.id.toLowerCase().includes(C.toLowerCase())||(null===(s=e.shipping)||void 0===s||null===(a=s.name)||void 0===a?void 0:a.toLowerCase().includes(C.toLowerCase())),l="all"===P||e.status===P;return t&&l}),F=e=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(e),I=e=>{switch(e){case"pending":return(0,N.jsx)(H.A,{className:"w-4 h-4 text-yellow-500"});case"confirmed":return(0,N.jsx)(O.A,{className:"w-4 h-4 text-blue-500"});case"shipped":return(0,N.jsx)(L.A,{className:"w-4 h-4 text-purple-500"});case"delivered":return(0,N.jsx)(q.A,{className:"w-4 h-4 text-green-500"});default:return(0,N.jsx)(H.A,{className:"w-4 h-4 text-gray-500"})}},V=e=>{switch(e){case"pending":return"Pendiente";case"confirmed":return"Confirmado";case"shipped":return"Enviado";case"delivered":return"Entregado";default:return"Desconocido"}},G=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return(0,N.jsx)(j.N,{children:m&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-backdrop bg-black/50 modal-overlay",onClick:x}),(0,N.jsx)(l.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"modal-container",children:(0,N.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-6xl max-h-[85vh] overflow-hidden flex flex-col modal-content shadow-2xl",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,N.jsx)("h2",{className:"text-2xl font-bold",style:{color:p.secondary},children:g?"Gesti\xf3n de Pedidos":"Mis Pedidos"}),(0,N.jsx)("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-full",children:(0,N.jsx)(h.A,{className:"w-6 h-6"})})]}),(0,N.jsx)("div",{className:"p-6 border-b bg-gray-50",children:(0,N.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,N.jsx)("div",{className:"flex-1",children:(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)(z.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,N.jsx)("input",{type:"text",placeholder:"Buscar por ID o nombre...",value:C,onChange:e=>A(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),(0,N.jsx)("div",{children:(0,N.jsxs)("select",{value:P,onChange:e=>S(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,N.jsx)("option",{value:"all",children:"Todos los estados"}),(0,N.jsx)("option",{value:"pending",children:"Pendiente"}),(0,N.jsx)("option",{value:"confirmed",children:"Confirmado"}),(0,N.jsx)("option",{value:"shipped",children:"Enviado"}),(0,N.jsx)("option",{value:"delivered",children:"Entregado"})]})})]})}),(0,N.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-thin",children:0===E.length?(0,N.jsxs)("div",{className:"text-center py-12",children:[(0,N.jsx)(q.A,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,N.jsx)("h3",{className:"text-xl font-semibold mb-2",style:{color:p.secondary},children:"No hay pedidos"}),(0,N.jsx)("p",{className:"text-gray-600",children:C?"No se encontraron pedidos con esos criterios":"A\xfan no tienes pedidos realizados"})]}):(0,N.jsx)("div",{className:"p-6",children:(0,N.jsx)("div",{className:"space-y-4",children:E.map(e=>{var s,a,t,l,r,i;return(0,N.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,N.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("h3",{className:"font-semibold text-lg",children:["Pedido #",e.id.slice(-6)]}),(0,N.jsx)("p",{className:"text-gray-600 text-sm",children:(i=e.date,new Date(i).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),(0,N.jsxs)("div",{className:"flex items-center space-x-2 px-3 py-1 rounded-full text-sm font-medium ".concat(G(e.status)),children:[I(e.status),(0,N.jsx)("span",{children:V(e.status)})]})]}),(0,N.jsxs)("div",{className:"text-right",children:[(0,N.jsx)("p",{className:"text-2xl font-bold",style:{color:p.primary},children:F(e.total)}),(0,N.jsxs)("p",{className:"text-gray-600 text-sm",children:[e.items.length," producto",1!==e.items.length?"s":""]})]})]}),(0,N.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h4",{className:"font-medium mb-2",children:"Informaci\xf3n de Env\xedo"}),(0,N.jsx)("p",{className:"text-sm text-gray-600",children:null===(s=e.shipping)||void 0===s?void 0:s.name}),(0,N.jsx)("p",{className:"text-sm text-gray-600",children:null===(a=e.shipping)||void 0===a?void 0:a.address}),(0,N.jsxs)("p",{className:"text-sm text-gray-600",children:[null===(t=e.shipping)||void 0===t?void 0:t.city,", ",null===(l=e.shipping)||void 0===l?void 0:l.department]}),(0,N.jsx)("p",{className:"text-sm text-gray-600",children:null===(r=e.shipping)||void 0===r?void 0:r.phone})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h4",{className:"font-medium mb-2",children:"Productos"}),(0,N.jsxs)("div",{className:"space-y-1",children:[e.items.slice(0,3).map((e,s)=>(0,N.jsxs)("p",{className:"text-sm text-gray-600",children:[e.name," x",e.quantity]},s)),e.items.length>3&&(0,N.jsxs)("p",{className:"text-sm text-gray-500",children:["+",e.items.length-3," producto",e.items.length-3!==1?"s":""," m\xe1s"]})]})]})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between pt-4 border-t",children:[(0,N.jsxs)("button",{onClick:()=>k(e),className:"flex items-center space-x-2 px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[(0,N.jsx)(R.A,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:"Ver Detalles"})]}),g&&(0,N.jsxs)("div",{className:"flex space-x-2",children:["pending"===e.status&&(0,N.jsx)("button",{onClick:()=>M(e.id,"confirmed"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:"Confirmar"}),"confirmed"===e.status&&(0,N.jsx)("button",{onClick:()=>M(e.id,"shipped"),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors text-sm",children:"Marcar Enviado"}),"shipped"===e.status&&(0,N.jsx)("button",{onClick:()=>M(e.id,"delivered"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Marcar Entregado"})]})]})]},e.id)})})})}),w&&(0,N.jsx)("div",{className:"fixed inset-0 bg-black/50 z-[10002] flex items-center justify-center p-4",children:(0,N.jsxs)("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[(0,N.jsx)("div",{className:"p-6 border-b",children:(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("h3",{className:"text-xl font-bold",children:["Pedido #",w.id.slice(-6)]}),(0,N.jsx)("button",{onClick:()=>k(null),className:"p-2 hover:bg-gray-100 rounded-full",children:(0,N.jsx)(h.A,{className:"w-5 h-5"})})]})}),(0,N.jsxs)("div",{className:"p-6 space-y-6",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h4",{className:"font-semibold mb-3",children:"Estado del Pedido"}),(0,N.jsxs)("div",{className:"inline-flex items-center space-x-2 px-4 py-2 rounded-full ".concat(G(w.status)),children:[I(w.status),(0,N.jsx)("span",{className:"font-medium",children:V(w.status)})]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h4",{className:"font-semibold mb-3",children:"Productos"}),(0,N.jsx)("div",{className:"space-y-3",children:w.items.map((e,s)=>{var a;return(0,N.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,N.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,N.jsx)("img",{src:(null===(a=e.images)||void 0===a?void 0:a[0])||"/placeholder-image.jpg",alt:e.name,className:"w-12 h-12 object-cover rounded"}),(0,N.jsxs)("div",{children:[(0,N.jsx)("p",{className:"font-medium",children:e.name}),(0,N.jsxs)("p",{className:"text-sm text-gray-600",children:["Cantidad: ",e.quantity]})]})]}),(0,N.jsx)("p",{className:"font-semibold",children:F(e.price*e.quantity)})]},s)})})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h4",{className:"font-semibold mb-3",children:"Informaci\xf3n de Env\xedo"}),(0,N.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,N.jsxs)("p",{children:[(0,N.jsx)("strong",{children:"Nombre:"})," ",null===(s=w.shipping)||void 0===s?void 0:s.name]}),(0,N.jsxs)("p",{children:[(0,N.jsx)("strong",{children:"Email:"})," ",null===(a=w.shipping)||void 0===a?void 0:a.email]}),(0,N.jsxs)("p",{children:[(0,N.jsx)("strong",{children:"Tel\xe9fono:"})," ",null===(r=w.shipping)||void 0===r?void 0:r.phone]}),(0,N.jsxs)("p",{children:[(0,N.jsx)("strong",{children:"Direcci\xf3n:"})," ",null===(i=w.shipping)||void 0===i?void 0:i.address]}),(0,N.jsxs)("p",{children:[(0,N.jsx)("strong",{children:"Ciudad:"})," ",null===(o=w.shipping)||void 0===o?void 0:o.city,", ",null===(n=w.shipping)||void 0===n?void 0:n.department]})]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h4",{className:"font-semibold mb-3",children:"Informaci\xf3n de Pago"}),(0,N.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,N.jsxs)("p",{children:[(0,N.jsx)("strong",{children:"M\xe9todo:"})," ","card"===(null===(c=w.payment)||void 0===c?void 0:c.method)?"Tarjeta de Cr\xe9dito":"PSE"]}),(null===(d=w.payment)||void 0===d?void 0:d.cardNumber)&&(0,N.jsxs)("p",{children:[(0,N.jsx)("strong",{children:"Tarjeta:"})," ",w.payment.cardNumber]})]})]}),(0,N.jsx)("div",{className:"border-t pt-4",children:(0,N.jsxs)("div",{className:"flex justify-between text-xl font-bold",children:[(0,N.jsx)("span",{children:"Total:"}),(0,N.jsx)("span",{style:{color:p.primary},children:F(w.total)})]})})]})]})})]})})]})})},G=e=>{var s;let{isOpen:a,onClose:r}=e;const{colors:i}=(0,y.D)(),{user:o,logout:n,isAdmin:c}=(0,b.A)(),{cart:d,favorites:m,addToast:x}=(0,g.P)(),[p,u]=(0,t.useState)("profile"),[v,w]=(0,t.useState)(!1);t.useEffect(()=>(document.body.style.overflow=a?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[a]);if(!o)return null;const k=[{id:"profile",label:"Perfil",icon:S.A},{id:"orders",label:"Pedidos",icon:T.A},{id:"settings",label:"Configuraci\xf3n",icon:M.A}];return a?(0,P.createPortal)((0,N.jsx)(j.N,{children:a&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-backdrop bg-black/50 modal-overlay",onClick:r}),(0,N.jsx)(l.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"modal-container",children:(0,N.jsxs)("div",{className:"bg-white rounded-lg sm:rounded-2xl w-full max-w-sm sm:max-w-4xl max-h-[95vh] sm:max-h-[85vh] overflow-hidden flex flex-col modal-content shadow-2xl",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b",children:[(0,N.jsx)("h2",{className:"text-lg sm:text-2xl font-bold",style:{color:i.secondary},children:"Mi Perfil"}),(0,N.jsx)("button",{onClick:r,className:"p-1.5 sm:p-2 hover:bg-gray-100 rounded-full",children:(0,N.jsx)(h.A,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),(0,N.jsxs)("div",{className:"flex-1 overflow-hidden flex flex-col sm:flex-row",children:[(0,N.jsxs)("div",{className:"w-full sm:w-64 bg-gray-50 p-3 sm:p-6 flex-shrink-0 scrollbar-thin overflow-y-auto",children:[(0,N.jsxs)("div",{className:"text-center mb-4 sm:mb-6",children:[(0,N.jsx)("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-xl sm:text-2xl mx-auto mb-2 sm:mb-3",children:(null===(s=o.name)||void 0===s?void 0:s.charAt(0))||"U"}),(0,N.jsx)("h3",{className:"font-semibold",style:{color:i.secondary},children:o.name}),(0,N.jsx)("p",{className:"text-gray-600 text-sm",children:o.email}),c&&(0,N.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-red-100 text-red-800 mt-2",children:[(0,N.jsx)(E.A,{className:"w-3 h-3 mr-1"}),"Administrador"]})]}),(0,N.jsx)("nav",{className:"space-y-2 mb-6",children:k.map(e=>(0,N.jsxs)("button",{onClick:()=>u(e.id),className:"w-full text-left px-4 py-3 rounded-lg font-medium transition-colors flex items-center space-x-3 ".concat(p===e.id?"text-white":"text-gray-600 hover:bg-gray-200"),style:{backgroundColor:p===e.id?i.primary:void 0},children:[(0,N.jsx)(e.icon,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:e.label})]},e.id))}),c&&(0,N.jsxs)(l.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{r(),x({type:"info",title:"Panel de Admin",message:'Busca el bot\xf3n "Agregar Producto" en la barra de navegaci\xf3n'})},className:"w-full text-left px-4 py-3 rounded-lg font-medium text-blue-600 hover:bg-blue-50 flex items-center space-x-3 mb-2 transition-colors",children:[(0,N.jsx)(M.A,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:"Panel de Admin"})]}),(0,N.jsxs)(l.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{n(),x({type:"info",title:"Sesi\xf3n cerrada",message:"Has cerrado sesi\xf3n correctamente"}),r()},className:"w-full text-left px-4 py-3 rounded-lg font-medium text-red-600 hover:bg-red-50 flex items-center space-x-3 transition-colors",children:[(0,N.jsx)(F.A,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:"Cerrar Sesi\xf3n"})]})]}),(0,N.jsxs)("div",{className:"flex-1 p-3 sm:p-6 overflow-y-auto scrollbar-thin",children:["profile"===p&&(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"text-xl font-semibold mb-6",children:"Informaci\xf3n del Perfil"}),(0,N.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,N.jsxs)("div",{className:"space-y-6",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Nombre Completo"}),(0,N.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,N.jsx)(S.A,{className:"w-5 h-5 text-gray-400"}),(0,N.jsx)("span",{children:o.name})]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Email"}),(0,N.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,N.jsx)(I.A,{className:"w-5 h-5 text-gray-400"}),(0,N.jsx)("span",{children:o.email})]})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Rol"}),(0,N.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,N.jsx)(E.A,{className:"w-5 h-5 text-gray-400"}),(0,N.jsx)("span",{className:"capitalize",children:"admin"===o.role?"Administrador":"Cliente"})]})]})]}),(0,N.jsx)("div",{className:"space-y-6",children:(0,N.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg",children:[(0,N.jsx)("h4",{className:"font-semibold mb-4",style:{color:i.secondary},children:c?"Panel de Control":"Estad\xedsticas"}),c?(0,N.jsxs)("div",{className:"space-y-3",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,N.jsx)(M.A,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:"Productos gestionados"})]}),(0,N.jsx)("span",{className:"font-bold",style:{color:i.primary},children:"89"})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,N.jsx)(T.A,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:"Pedidos procesados"})]}),(0,N.jsx)("span",{className:"font-bold",style:{color:i.primary},children:"156"})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,N.jsx)(S.A,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:"Usuarios registrados"})]}),(0,N.jsx)("span",{className:"font-bold",style:{color:i.primary},children:"1,234"})]})]}):(0,N.jsxs)("div",{className:"space-y-3",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,N.jsx)(T.A,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:"Productos en carrito"})]}),(0,N.jsx)("span",{className:"font-bold",style:{color:i.primary},children:d.length})]}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsxs)("span",{className:"flex items-center space-x-2",children:[(0,N.jsx)(f.A,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:"Productos favoritos"})]}),(0,N.jsx)("span",{className:"font-bold",style:{color:i.primary},children:m.length})]})]})]})})]})]}),"orders"===p&&(0,N.jsx)("div",{children:c?(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,N.jsx)("h3",{className:"text-xl font-semibold",children:"Gesti\xf3n de Pedidos"}),(0,N.jsx)("button",{onClick:()=>window.location.href="/admin",className:"px-4 py-2 rounded-lg text-white font-medium",style:{backgroundColor:i.primary},children:"Ir al Panel de Admin"})]}),(0,N.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,N.jsxs)("div",{className:"bg-blue-50 p-6 rounded-lg",children:[(0,N.jsx)("h4",{className:"font-semibold mb-4 text-blue-800",children:"Pedidos Pendientes"}),(0,N.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"12"}),(0,N.jsx)("p",{className:"text-blue-700 text-sm",children:"Requieren atenci\xf3n"})]}),(0,N.jsxs)("div",{className:"bg-green-50 p-6 rounded-lg",children:[(0,N.jsx)("h4",{className:"font-semibold mb-4 text-green-800",children:"Pedidos Completados"}),(0,N.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"156"}),(0,N.jsx)("p",{className:"text-green-700 text-sm",children:"Este mes"})]}),(0,N.jsxs)("div",{className:"bg-yellow-50 p-6 rounded-lg",children:[(0,N.jsx)("h4",{className:"font-semibold mb-4 text-yellow-800",children:"Ingresos del Mes"}),(0,N.jsx)("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:"$2.4M"}),(0,N.jsx)("p",{className:"text-yellow-700 text-sm",children:"+15% vs mes anterior"})]}),(0,N.jsxs)("div",{className:"bg-purple-50 p-6 rounded-lg",children:[(0,N.jsx)("h4",{className:"font-semibold mb-4 text-purple-800",children:"Productos Activos"}),(0,N.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"89"}),(0,N.jsx)("p",{className:"text-purple-700 text-sm",children:"En cat\xe1logo"})]})]}),(0,N.jsxs)("div",{className:"mt-8",children:[(0,N.jsx)("h4",{className:"font-semibold mb-4",children:"Acciones R\xe1pidas"}),(0,N.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,N.jsxs)("button",{onClick:()=>window.location.href="/admin",className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 text-left transition-colors",children:[(0,N.jsx)(M.A,{className:"w-6 h-6 mb-2",style:{color:i.primary}}),(0,N.jsx)("div",{className:"font-medium",children:"Panel Completo"}),(0,N.jsx)("div",{className:"text-sm text-gray-500",children:"Acceder al dashboard"})]}),(0,N.jsxs)("button",{onClick:()=>window.location.href="/admin",className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 text-left transition-colors",children:[(0,N.jsx)(T.A,{className:"w-6 h-6 mb-2",style:{color:i.primary}}),(0,N.jsx)("div",{className:"font-medium",children:"Gestionar Productos"}),(0,N.jsx)("div",{className:"text-sm text-gray-500",children:"Agregar, editar, eliminar"})]}),(0,N.jsxs)("button",{onClick:()=>window.location.href="/admin",className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50 text-left transition-colors",children:[(0,N.jsx)(S.A,{className:"w-6 h-6 mb-2",style:{color:i.primary}}),(0,N.jsx)("div",{className:"font-medium",children:"Ver Reportes"}),(0,N.jsx)("div",{className:"text-sm text-gray-500",children:"An\xe1lisis y estad\xedsticas"})]})]})]})]}):(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,N.jsx)("h3",{className:"text-xl font-semibold",children:"Historial de Pedidos"}),(0,N.jsx)("button",{onClick:()=>w(!0),className:"px-4 py-2 rounded-lg text-white font-medium",style:{backgroundColor:i.primary},children:"Ver Todos los Pedidos"})]}),(0,N.jsxs)("div",{className:"text-center py-12",children:[(0,N.jsx)(T.A,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,N.jsx)("p",{className:"text-gray-500",children:"Gestiona tus pedidos"}),(0,N.jsx)("p",{className:"text-gray-400 text-sm",children:'Haz clic en "Ver Todos los Pedidos" para acceder a tu historial completo'})]})]})}),"settings"===p&&(0,N.jsxs)("div",{children:[(0,N.jsx)("h3",{className:"text-xl font-semibold mb-6",children:"Configuraci\xf3n"}),(0,N.jsxs)("div",{className:"space-y-6",children:[(0,N.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,N.jsx)("h4",{className:"font-medium mb-2",children:"Notificaciones"}),(0,N.jsxs)("div",{className:"space-y-3",children:[(0,N.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,N.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"rounded",onChange:e=>console.log("Notificaciones productos:",e.target.checked)}),(0,N.jsx)("span",{children:"Recibir notificaciones de nuevos productos"})]}),(0,N.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,N.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"rounded",onChange:e=>console.log("Ofertas email:",e.target.checked)}),(0,N.jsx)("span",{children:"Recibir ofertas especiales por email"})]})]})]}),(0,N.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,N.jsx)("h4",{className:"font-medium mb-2",children:"Privacidad"}),(0,N.jsxs)("div",{className:"space-y-3",children:[(0,N.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,N.jsx)("input",{type:"checkbox",className:"rounded",onChange:e=>console.log("Perfil p\xfablico:",e.target.checked)}),(0,N.jsx)("span",{children:"Hacer mi perfil p\xfablico"})]}),(0,N.jsxs)("label",{className:"flex items-center space-x-3",children:[(0,N.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"rounded",onChange:e=>console.log("Recomendaciones:",e.target.checked)}),(0,N.jsx)("span",{children:"Permitir recomendaciones personalizadas"})]})]})]})]})]})]})]}),(0,N.jsx)(V,{isOpen:v,onClose:()=>w(!1)})]})})]})}),document.body):null};var $=a(5613);const B=(0,c.A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),U=e=>{let{isOpen:s,onClose:a}=e;const{colors:r}=(0,y.D)(),{user:i}=(0,b.A)(),[o,n]=(0,t.useState)([]);(0,t.useEffect)(()=>(s?(document.body.style.overflow="hidden",c()):document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]);const c=()=>{const e=[{id:"1",type:"order",title:"Pedido Confirmado",message:"Tu pedido #123456 ha sido confirmado y est\xe1 siendo procesado.",timestamp:new Date(Date.now()-18e5),read:!1},{id:"2",type:"cart",title:"Producto Agregado",message:"iPhone 15 Pro se agreg\xf3 a tu carrito de compras.",timestamp:new Date(Date.now()-72e5),read:!0},{id:"3",type:"favorite",title:"Producto en Oferta",message:"Un producto de tu lista de favoritos tiene descuento.",timestamp:new Date(Date.now()-864e5),read:!1,action:{label:"Ver Oferta",onClick:()=>console.log("Ver oferta")}},{id:"4",type:"success",title:"Pago Exitoso",message:"Tu pago de $150,000 COP fue procesado correctamente.",timestamp:new Date(Date.now()-2592e5),read:!0}];n(e)},x=e=>{switch(e){case"order":return(0,N.jsx)(q.A,{className:"w-5 h-5"});case"cart":return(0,N.jsx)(m.A,{className:"w-5 h-5"});case"favorite":return(0,N.jsx)(f.A,{className:"w-5 h-5"});case"success":return(0,N.jsx)(O.A,{className:"w-5 h-5"});case"warning":case"error":return(0,N.jsx)($.A,{className:"w-5 h-5"});default:return(0,N.jsx)(B,{className:"w-5 h-5"})}},p=e=>{switch(e){case"order":return"text-blue-500";case"cart":case"success":return"text-green-500";case"favorite":case"error":return"text-red-500";case"warning":return"text-yellow-500";default:return"text-gray-500"}},u=e=>{const s=(new Date).getTime()-e.getTime(),a=Math.floor(s/6e4),t=Math.floor(s/36e5),l=Math.floor(s/864e5);return a<60?"hace ".concat(a," min"):t<24?"hace ".concat(t,"h"):"hace ".concat(l,"d")},g=o.filter(e=>!e.read).length;return s?(0,P.createPortal)((0,N.jsx)(j.N,{children:s&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-backdrop bg-black/50 modal-overlay",onClick:a}),(0,N.jsxs)(l.P.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3},className:"fixed right-0 top-0 h-screen w-96 bg-white shadow-xl z-[10001] flex flex-col modal-content",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,N.jsx)(d,{className:"w-5 h-5",style:{color:r.primary}}),(0,N.jsx)("h2",{className:"text-xl font-bold",style:{color:r.secondary},children:"Notificaciones"}),g>0&&(0,N.jsx)("span",{className:"px-2 py-1 text-xs font-bold text-white rounded-full",style:{backgroundColor:r.primary},children:g})]}),(0,N.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-full",children:(0,N.jsx)(h.A,{className:"w-5 h-5"})})]}),o.length>0&&(0,N.jsx)("div",{className:"p-4 border-b bg-gray-50",children:(0,N.jsxs)("div",{className:"flex space-x-2",children:[g>0&&(0,N.jsx)("button",{onClick:()=>{n(e=>e.map(e=>(0,D.A)((0,D.A)({},e),{},{read:!0})))},className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Marcar todas como le\xeddas"}),(0,N.jsx)("button",{onClick:()=>{n([])},className:"text-sm text-red-600 hover:text-red-800 font-medium",children:"Limpiar todas"})]})}),(0,N.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-thin",children:0===o.length?(0,N.jsxs)("div",{className:"text-center py-12",children:[(0,N.jsx)(d,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,N.jsx)("h3",{className:"text-lg font-semibold mb-2",style:{color:r.secondary},children:"No hay notificaciones"}),(0,N.jsx)("p",{className:"text-gray-600 text-sm",children:"Te notificaremos sobre pedidos, ofertas y actualizaciones"})]}):(0,N.jsx)("div",{className:"divide-y",children:o.map(e=>(0,N.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 hover:bg-gray-50 transition-colors ".concat(e.read?"":"bg-blue-50 border-l-4 border-blue-500"),children:(0,N.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,N.jsx)("div",{className:"flex-shrink-0 ".concat(p(e.type)),children:x(e.type)}),(0,N.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,N.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,N.jsx)("h4",{className:"text-sm font-semibold ".concat(e.read?"text-gray-700":"text-gray-900"),children:e.title}),(0,N.jsx)("button",{onClick:()=>{return s=e.id,void n(e=>e.filter(e=>e.id!==s));var s},className:"text-gray-400 hover:text-gray-600",children:(0,N.jsx)(h.A,{className:"w-4 h-4"})})]}),(0,N.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.message}),(0,N.jsxs)("div",{className:"flex items-center justify-between",children:[(0,N.jsx)("span",{className:"text-xs text-gray-500",children:u(e.timestamp)}),(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:[e.action&&(0,N.jsx)("button",{onClick:e.action.onClick,className:"text-xs font-medium hover:underline",style:{color:r.primary},children:e.action.label}),!e.read&&(0,N.jsx)("button",{onClick:()=>{return s=e.id,void n(e=>e.map(e=>e.id===s?(0,D.A)((0,D.A)({},e),{},{read:!0}):e));var s},className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Marcar como le\xedda"})]})]})]})]})},e.id))})}),(0,N.jsx)("div",{className:"border-t p-4 bg-gray-50",children:(0,N.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Configurar notificaciones en tu perfil"})})]})]})}),document.body):null},Z=(0,c.A)("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);var _=a(5727),J=a(4651),W=a(5469);const Y=e=>{let{isOpen:s,onClose:a,onBackToLogin:r}=e;const{colors:i}=(0,y.D)(),[o,n]=(0,t.useState)(""),[c,d]=(0,t.useState)(!1),[m,x]=(0,t.useState)(!1),[p,u]=(0,t.useState)(""),g=()=>{n(""),u(""),x(!1),a()};return s?(0,P.createPortal)((0,N.jsx)(j.N,{children:s&&(0,N.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-backdrop bg-black/60 modal-overlay",onClick:e=>{e.target===e.currentTarget&&g()},children:(0,N.jsx)("div",{className:"modal-container",children:(0,N.jsxs)(l.P.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",duration:.3},className:"bg-white rounded-2xl w-full max-w-md modal-content overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,N.jsxs)("div",{className:"relative p-6 pb-4",children:[(0,N.jsx)("button",{onClick:g,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,N.jsx)(h.A,{className:"w-5 h-5 text-gray-500"})}),(0,N.jsx)("button",{onClick:r,className:"absolute top-4 left-4 p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,N.jsx)(W.A,{className:"w-5 h-5 text-gray-500"})}),(0,N.jsx)("div",{className:"text-center mt-8",children:m?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(O.A,{className:"w-16 h-16 mx-auto mb-4 text-green-500"}),(0,N.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:i.secondary},children:"Email enviado"}),(0,N.jsx)("p",{className:"text-gray-600 text-sm",children:"Revisa tu bandeja de entrada para restablecer tu contrase\xf1a"})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:i.secondary},children:"\xbfOlvidaste tu contrase\xf1a?"}),(0,N.jsx)("p",{className:"text-gray-600 text-sm",children:"Ingresa tu email y te enviaremos un enlace para restablecerla"})]})})]}),(0,N.jsx)("div",{className:"px-6 pb-6",children:m?(0,N.jsxs)("div",{className:"space-y-4",children:[(0,N.jsx)("div",{className:"bg-green-50 border-2 border-green-200 rounded-xl p-4 text-center",children:(0,N.jsxs)("p",{className:"text-green-700 text-sm",children:["Se ha enviado un enlace de recuperaci\xf3n a ",(0,N.jsx)("strong",{children:o})]})}),(0,N.jsx)("button",{onClick:r,className:"w-full py-3 rounded-xl font-semibold transition-all duration-200 border-2 hover:shadow-lg transform hover:scale-[1.02] active:scale-[0.98]",style:{borderColor:i.primary,color:i.primary},children:"Volver al inicio de sesi\xf3n"})]}):(0,N.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)?(d(!0),u(""),setTimeout(()=>{x(!0),d(!1)},2e3)):u("Formato de email inv\xe1lido"):u("El email es requerido")},className:"space-y-4",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Correo electr\xf3nico"}),(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)(I.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,N.jsx)("input",{type:"email",value:o,onChange:e=>n(e.target.value),className:"w-full pl-11 pr-4 py-3 border-2 rounded-xl focus:outline-none transition-colors ".concat(p?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"),placeholder:"tu@email.com",disabled:c})]}),p&&(0,N.jsx)(l.P.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm mt-1 font-medium",children:p})]}),(0,N.jsx)("button",{type:"submit",disabled:c,className:"w-full py-3 rounded-xl text-white font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transform hover:scale-[1.02] active:scale-[0.98]",style:{backgroundColor:i.primary},children:c?(0,N.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,N.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Enviando..."]}):"Enviar enlace de recuperaci\xf3n"})]})})]})})})}),document.body):null},Q=e=>{let{isOpen:s,onClose:a,initialMode:r="login"}=e;const{colors:i}=(0,y.D)(),{login:o,register:n,loginWithGoogle:c}=(0,b.A)(),[d,m]=(0,t.useState)(r),[x,p]=(0,t.useState)(!1),[u,g]=(0,t.useState)(!1),[f,v]=(0,t.useState)({email:"",password:"",name:"",confirmPassword:""}),[w,k]=(0,t.useState)({}),[C,A]=(0,t.useState)(!1);(0,t.useEffect)(()=>{s&&(v({email:"",password:"",name:"",confirmPassword:""}),k({}),m(r),g(!1))},[s,r]),(0,t.useEffect)(()=>(document.body.style.overflow=s?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[s]);return s?(0,P.createPortal)((0,N.jsxs)(j.N,{children:[s&&(0,N.jsx)(l.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-backdrop bg-black/60 modal-overlay",onClick:e=>{e.target===e.currentTarget&&a()},children:(0,N.jsx)("div",{className:"modal-container",children:(0,N.jsxs)(l.P.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",duration:.3},className:"bg-white rounded-2xl w-full max-w-md modal-content overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,N.jsxs)("div",{className:"relative p-6 pb-4",children:[(0,N.jsx)("button",{onClick:a,className:"absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors",disabled:x,children:(0,N.jsx)(h.A,{className:"w-5 h-5 text-gray-500"})}),(0,N.jsxs)("div",{className:"text-center",children:[(0,N.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:i.secondary},children:"login"===d?"Bienvenido de nuevo":"Crear cuenta"}),(0,N.jsx)("p",{className:"text-gray-600 text-sm",children:"login"===d?"Inicia sesi\xf3n para continuar":"\xdanete a nuestra comunidad"})]})]}),(0,N.jsxs)("div",{className:"px-6 pb-6",children:[(0,N.jsxs)("button",{onClick:async()=>{p(!0),k({});try{await c(),a()}catch(e){k({submit:e.message||"Error al iniciar sesi\xf3n con Google"})}finally{p(!1)}},disabled:x,className:"w-full flex items-center justify-center gap-3 p-3 border-2 border-gray-200 rounded-xl hover:border-gray-300 hover:bg-gray-50 transition-all duration-200 mb-6 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,N.jsx)(Z,{className:"w-5 h-5 text-blue-500"}),(0,N.jsx)("span",{className:"font-medium text-gray-700",children:"Continuar con Google"})]}),(0,N.jsxs)("div",{className:"relative mb-6",children:[(0,N.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,N.jsx)("div",{className:"w-full border-t border-gray-200"})}),(0,N.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,N.jsx)("span",{className:"px-4 bg-white text-gray-500 font-medium",children:"o"})})]}),(0,N.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return f.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.email)||(e.email="Formato de email inv\xe1lido"):e.email="El email es requerido",f.password?f.password.length<6&&(e.password="M\xednimo 6 caracteres"):e.password="La contrase\xf1a es requerida","register"===d&&(f.name.trim()?f.name.trim().length<2&&(e.name="M\xednimo 2 caracteres"):e.name="El nombre es requerido",f.confirmPassword?f.password!==f.confirmPassword&&(e.confirmPassword="Las contrase\xf1as no coinciden"):e.confirmPassword="Confirma tu contrase\xf1a"),k(e),0===Object.keys(e).length})()){p(!0),k({});try{"login"===d?await o(f.email.trim(),f.password):await n(f.email.trim(),f.password,f.name.trim()),a()}catch(s){k({submit:s.message||"Error en el proceso de autenticaci\xf3n"})}finally{p(!1)}}},className:"space-y-4",children:["register"===d&&(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nombre completo"}),(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)(S.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,N.jsx)("input",{type:"text",value:f.name,onChange:e=>v((0,D.A)((0,D.A)({},f),{},{name:e.target.value})),className:"w-full pl-11 pr-4 py-3 border-2 rounded-xl focus:outline-none transition-colors ".concat(w.name?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"),placeholder:"Tu nombre completo",disabled:x})]}),w.name&&(0,N.jsx)(l.P.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm mt-1 font-medium",children:w.name})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Correo electr\xf3nico"}),(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)(I.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,N.jsx)("input",{type:"email",value:f.email,onChange:e=>v((0,D.A)((0,D.A)({},f),{},{email:e.target.value})),className:"w-full pl-11 pr-4 py-3 border-2 rounded-xl focus:outline-none transition-colors ".concat(w.email?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"),placeholder:"tu@email.com",disabled:x})]}),w.email&&(0,N.jsx)(l.P.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm mt-1 font-medium",children:w.email})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Contrase\xf1a"}),(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)(_.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,N.jsx)("input",{type:u?"text":"password",value:f.password,onChange:e=>v((0,D.A)((0,D.A)({},f),{},{password:e.target.value})),className:"w-full pl-11 pr-12 py-3 border-2 rounded-xl focus:outline-none transition-colors ".concat(w.password?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"),placeholder:"M\xednimo 6 caracteres",disabled:x}),(0,N.jsx)("button",{type:"button",onClick:()=>g(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",disabled:x,children:u?(0,N.jsx)(J.A,{className:"w-5 h-5"}):(0,N.jsx)(R.A,{className:"w-5 h-5"})})]}),w.password&&(0,N.jsx)(l.P.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm mt-1 font-medium",children:w.password})]}),"register"===d&&(0,N.jsxs)("div",{children:[(0,N.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirmar contrase\xf1a"}),(0,N.jsxs)("div",{className:"relative",children:[(0,N.jsx)(_.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,N.jsx)("input",{type:u?"text":"password",value:f.confirmPassword,onChange:e=>v((0,D.A)((0,D.A)({},f),{},{confirmPassword:e.target.value})),className:"w-full pl-11 pr-4 py-3 border-2 rounded-xl focus:outline-none transition-colors ".concat(w.confirmPassword?"border-red-300 focus:border-red-500":"border-gray-200 focus:border-blue-500"),placeholder:"Confirma tu contrase\xf1a",disabled:x})]}),w.confirmPassword&&(0,N.jsx)(l.P.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm mt-1 font-medium",children:w.confirmPassword})]}),w.submit&&(0,N.jsx)(l.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-red-50 border-2 border-red-200 rounded-xl p-3",children:(0,N.jsx)("p",{className:"text-red-700 text-sm font-medium text-center",children:w.submit})}),(0,N.jsx)("button",{type:"submit",disabled:x,className:"w-full py-3 rounded-xl text-white font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transform hover:scale-[1.02] active:scale-[0.98]",style:{backgroundColor:i.primary},children:x?(0,N.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,N.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Procesando..."]}):"login"===d?"Iniciar Sesi\xf3n":"Crear Cuenta"})]}),"login"===d&&(0,N.jsx)("div",{className:"mt-4 text-center",children:(0,N.jsx)("button",{onClick:()=>A(!0),disabled:x,className:"text-sm font-medium hover:underline transition-colors disabled:opacity-50",style:{color:i.primary},children:"\xbfOlvidaste tu contrase\xf1a?"})}),(0,N.jsx)("div",{className:"mt-6 text-center",children:(0,N.jsxs)("p",{className:"text-gray-600",children:["login"===d?"\xbfNo tienes cuenta?":"\xbfYa tienes cuenta?",(0,N.jsx)("button",{onClick:()=>{m("login"===d?"register":"login"),v({email:"",password:"",name:"",confirmPassword:""}),k({}),g(!1)},disabled:x,className:"ml-2 font-semibold hover:underline transition-colors disabled:opacity-50",style:{color:i.primary},children:"login"===d?"Reg\xedstrate aqu\xed":"Inicia sesi\xf3n"})]})})]})]})})}),(0,N.jsx)(Y,{isOpen:C,onClose:()=>A(!1),onBackToLogin:()=>{A(!1)}})]}),document.body):null},K=()=>{const[e,s]=(0,t.useState)(!1),[a,c]=(0,t.useState)(!1),[j,f]=(0,t.useState)(!1),[v,k]=(0,t.useState)(!1),[C,P]=(0,t.useState)(!1),[S,T]=(0,t.useState)(!1),[M,E]=(0,t.useState)("login"),F=(0,r.Zp)(),I=(0,r.zy)(),{colors:D,theme:H,setTheme:O}=(0,y.D)(),{getCartItemsCount:L}=(0,g.P)(),{user:q,isAuthenticated:z,isAdmin:R}=(0,b.A)(),V="/"===I.pathname;(0,t.useEffect)(()=>{const e=()=>{c(window.scrollY>50)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const $=[{name:"Inicio",href:"#hero"},{name:"Nosotros",href:"#about"},{name:"Productos",href:"#products"},{name:"Contacto",href:"#contact"}];return(0,N.jsx)(l.P.nav,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-20 transition-all duration-300 ".concat(a?"bg-white/90 backdrop-blur-md shadow-lg":"bg-transparent"),children:(0,N.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,N.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,N.jsxs)(l.P.div,{whileHover:{scale:1.05},className:"flex items-center space-x-2 cursor-pointer",onClick:()=>F("/"),children:[(0,N.jsx)("img",{src:"/assets/brand/logos/cleopatra-logo-".concat("#FFD300"===D.primary?"gold":"blue",".png"),alt:"Cleopatra Regalos Logo",className:"w-12 h-12 object-contain",onError:e=>{var s;const a=e.target;a.style.display="none",null===(s=a.nextElementSibling)||void 0===s||s.classList.remove("hidden")}}),(0,N.jsx)(i.A,{className:"w-12 h-12 hidden",style:{color:D.primary}}),(0,N.jsx)("span",{className:"text-2xl font-bold",style:{color:a?D.secondary:"white"},children:"Cleopatra"})]}),(0,N.jsxs)("div",{className:"hidden md:flex items-center space-x-6",children:[V&&$.map(e=>(0,N.jsx)(l.P.a,{href:e.href,whileHover:{scale:1.05},className:"font-medium transition-colors ".concat(a?"text-gray-700 hover:text-gray-900":"text-white hover:text-gray-200"),children:e.name},e.name)),(0,N.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,N.jsx)(l.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>O("tech"===H?"gifts":"tech"),className:"flex items-center space-x-2 px-3 py-1.5 rounded-full text-xs font-medium transition-all border",style:{backgroundColor:a?D.primaryLight:"rgba(255,255,255,0.1)",borderColor:a?D.primary:"rgba(255,255,255,0.3)",color:a?D.primary:"white"},children:"tech"===H?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(o.A,{className:"w-3 h-3"}),(0,N.jsx)("span",{children:"Regalos"})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(n.A,{className:"w-3 h-3"}),(0,N.jsx)("span",{children:"Tech"})]})}),z&&(0,N.jsxs)(l.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>P(!0),className:"relative p-2",children:[(0,N.jsx)(d,{className:"w-5 h-5 ".concat(a?"text-gray-700":"text-white")}),(0,N.jsx)("span",{className:"absolute -top-1 -right-1 w-4 h-4 rounded-full text-xs flex items-center justify-center text-white font-bold",style:{backgroundColor:D.primary},children:"3"})]}),!R&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(A,{}),(0,N.jsxs)(l.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>F("/cart"),className:"relative p-2",children:[(0,N.jsx)(m.A,{className:"w-5 h-5 ".concat(a?"text-gray-700":"text-white")}),L()>0&&(0,N.jsx)("span",{className:"absolute -top-1 -right-1 w-4 h-4 rounded-full text-xs flex items-center justify-center text-white font-bold",style:{backgroundColor:D.primary},children:L()})]})]}),z?(0,N.jsx)("div",{className:"flex items-center space-x-3",children:(0,N.jsxs)(l.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>k(!0),className:"flex items-center space-x-2 px-3 py-2 rounded-full border-2 transition-all",style:{backgroundColor:a?D.primary:"rgba(255,255,255,0.1)",borderColor:a?D.primary:"rgba(255,255,255,0.3)"},children:[(0,N.jsx)("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-xs",children:null===q||void 0===q?void 0:q.name.charAt(0)}),(0,N.jsx)("span",{className:"text-sm font-medium text-white",children:null===q||void 0===q?void 0:q.name.split(" ")[0]})]})}):(0,N.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,N.jsx)(l.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{E("login"),T(!0)},className:"px-3 py-2 text-sm font-medium transition-colors",style:{color:a?D.secondary:"white"},children:"Iniciar Sesi\xf3n"}),(0,N.jsxs)(l.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{E("register"),T(!0)},className:"flex items-center space-x-2 px-4 py-2 rounded-full font-medium text-white",style:{backgroundColor:D.primary},children:[(0,N.jsx)(x,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:"Registrarse"})]})]})]})]}),(0,N.jsxs)("div",{className:"md:hidden flex items-center space-x-3",children:[z&&(0,N.jsx)(l.P.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>k(!0),className:"p-1",children:(0,N.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:null===q||void 0===q?void 0:q.name.charAt(0)})}),(0,N.jsx)("button",{onClick:()=>s(!e),className:a?"text-gray-700":"text-white",children:e?(0,N.jsx)(h.A,{className:"w-6 h-6"}):(0,N.jsx)(p,{className:"w-6 h-6"})})]})]}),e&&(0,N.jsxs)(l.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden bg-white rounded-lg shadow-lg mt-2 py-4",children:[V&&$.map(e=>(0,N.jsx)("a",{href:e.href,onClick:()=>s(!1),className:"block px-4 py-2 text-gray-700 hover:bg-gray-100",children:e.name},e.name)),(0,N.jsxs)("div",{className:"border-t mt-2 pt-2",children:[(0,N.jsx)("button",{onClick:()=>{O("tech"===H?"gifts":"tech"),s(!1)},className:"flex items-center space-x-3 w-full px-4 py-2 text-gray-700 hover:bg-gray-100",children:"tech"===H?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(o.A,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:"Cambiar a Regalos"})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(n.A,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:"Cambiar a Tecnolog\xeda"})]})}),!R&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"px-4 py-2",children:(0,N.jsx)(A,{})}),(0,N.jsxs)("button",{onClick:()=>{F("/cart"),s(!1)},className:"flex items-center space-x-3 w-full px-4 py-2 text-gray-700 hover:bg-gray-100",children:[(0,N.jsx)(m.A,{className:"w-4 h-4"}),(0,N.jsxs)("span",{children:["Carrito (",L(),")"]})]})]}),z&&(0,N.jsxs)("button",{onClick:()=>{P(!0),s(!1)},className:"flex items-center space-x-3 w-full px-4 py-2 text-gray-700 hover:bg-gray-100",children:[(0,N.jsx)(d,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:"Notificaciones (3)"})]}),z?(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("button",{onClick:()=>{k(!0),s(!1)},className:"flex items-center space-x-3 w-full px-4 py-2 text-gray-700 hover:bg-gray-100",children:[(0,N.jsx)("div",{className:"w-5 h-5 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-xs",children:null===q||void 0===q?void 0:q.name.charAt(0)}),(0,N.jsx)("span",{children:"Mi Perfil"})]})}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("button",{onClick:()=>{E("login"),T(!0),s(!1)},className:"flex items-center space-x-3 w-full px-4 py-2 text-blue-600 hover:bg-blue-50",children:[(0,N.jsx)(x,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:"Iniciar Sesi\xf3n"})]}),(0,N.jsxs)("button",{onClick:()=>{E("register"),T(!0),s(!1)},className:"flex items-center space-x-3 w-full px-4 py-2 text-green-600 hover:bg-green-50",children:[(0,N.jsx)(u.A,{className:"w-4 h-4"}),(0,N.jsx)("span",{children:"Registrarse"})]})]})]})]}),(0,N.jsx)(w,{isOpen:j,onClose:()=>f(!1)}),(0,N.jsx)(G,{isOpen:v,onClose:()=>k(!1)}),(0,N.jsx)(U,{isOpen:C,onClose:()=>P(!1)}),(0,N.jsx)(Q,{isOpen:S,onClose:()=>T(!1),initialMode:M})]})})}},2574:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},2629:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]])},2736:(e,s,a)=>{a.d(s,{I:()=>r});var t=a(4131),l=a(4893);const r=(0,t.v)()((0,l.Zr)((e,s)=>({items:[],addItem:a=>{const t=s().items;t.find(e=>e.id===a.id)||e({items:[...t,a]})},removeItem:a=>{e({items:s().items.filter(e=>e.id!==a)})},clearFavorites:()=>{e({items:[]})},isInFavorites:e=>s().items.some(s=>s.id===e)}),{name:"cleopatra-favorites"}))},3946:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},4285:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]])},4319:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},4459:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4651:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},5088:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},5327:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},5469:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5727:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},6963:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},7095:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},9354:(e,s,a)=>{a.d(s,{P:()=>i});var t=a(2555),l=a(4131),r=a(4893);const i=(0,l.v)()((0,r.Zr)((e,s)=>({cart:[],addToCart:a=>e(e=>{const l=e.cart.find(e=>e.id===a.id),r={type:"success",title:"Producto agregado",message:"".concat(a.name," se agreg\xf3 al carrito"),icon:"cart"};return setTimeout(()=>{s().addToast(r)},100),l?{cart:e.cart.map(e=>e.id===a.id?(0,t.A)((0,t.A)({},e),{},{quantity:e.quantity+1}):e)}:{cart:[...e.cart,(0,t.A)((0,t.A)({},a),{},{quantity:1})]}}),removeFromCart:s=>e(e=>({cart:e.cart.filter(e=>e.id!==s)})),updateQuantity:(s,a)=>e(e=>({cart:a<=0?e.cart.filter(e=>e.id!==s):e.cart.map(e=>e.id===s?(0,t.A)((0,t.A)({},e),{},{quantity:a}):e)})),clearCart:()=>e({cart:[]}),getCartTotal:()=>{const{cart:e}=s();return e.reduce((e,s)=>e+("string"===typeof s.price?parseFloat(s.price.replace(/[$.,]/g,"")):s.price)*s.quantity,0)},getCartItemsCount:()=>{const{cart:e}=s();return e.reduce((e,s)=>e+s.quantity,0)},favorites:[],addToFavorites:a=>e(e=>{const t={type:"success",title:"Agregado a favoritos",message:"".concat(a.name," se agreg\xf3 a tus favoritos"),icon:"heart"};return setTimeout(()=>{s().addToast(t)},100),{favorites:[...e.favorites,a]}}),removeFromFavorites:a=>e(e=>{const t=e.favorites.find(e=>e.id===a);if(t){const e={type:"info",title:"Removido de favoritos",message:"".concat(t.name," se removi\xf3 de favoritos"),icon:"heart"};setTimeout(()=>{s().addToast(e)},100)}return{favorites:e.favorites.filter(e=>e.id!==a)}}),isFavorite:e=>{const{favorites:a}=s();return a.some(s=>s.id===e)},searchTerm:"",selectedCategory:"all",priceRange:[0,3e6],setSearchTerm:s=>e({searchTerm:s}),setSelectedCategory:s=>e({selectedCategory:s}),setPriceRange:s=>e({priceRange:s}),selectedProduct:null,setSelectedProduct:s=>e({selectedProduct:s}),toasts:[],addToast:s=>{const a=Date.now().toString(),l=(0,t.A)((0,t.A)({},s),{},{id:a});e(e=>({toasts:[...e.toasts,l]})),setTimeout(()=>{e(e=>({toasts:e.toasts.filter(e=>e.id!==a)}))},3e3)},removeToast:s=>e(e=>({toasts:e.toasts.filter(e=>e.id!==s)})),products:[],loading:!1,loadProducts:async()=>{e({loading:!0});try{const{productService:s}=await Promise.all([a.e(466),a.e(565)]).then(a.bind(a,6565)),t=await s.getProducts();e({products:t,loading:!1})}catch(s){console.error("Error loading products:",s),e({loading:!1})}},addProduct:async e=>{try{const{productService:t}=await Promise.all([a.e(466),a.e(565)]).then(a.bind(a,6565));await t.addProduct(e),s().loadProducts()}catch(t){console.error("Error adding product:",t)}},updateProduct:async(e,t)=>{try{const{productService:l}=await Promise.all([a.e(466),a.e(565)]).then(a.bind(a,6565));await l.updateProduct(e,t),s().loadProducts()}catch(l){console.error("Error updating product:",l)}},deleteProduct:async e=>{try{const{productService:t}=await Promise.all([a.e(466),a.e(565)]).then(a.bind(a,6565));await t.deleteProduct(e),s().loadProducts()}catch(t){console.error("Error deleting product:",t)}}}),{name:"cleopatra-store",partialize:e=>({cart:e.cart,favorites:e.favorites})}))},9493:(e,s,a)=>{a.d(s,{A:()=>t});const t=(0,a(1639).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])}}]);
//# sourceMappingURL=500.02666046.chunk.js.map