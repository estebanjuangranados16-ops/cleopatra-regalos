/*! For license information please see 942.063e88d3.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkcleopatra_regalos=self.webpackChunkcleopatra_regalos||[]).push([[942],{614:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(1639).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1360:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(1639).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1990:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(1639).A)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},8693:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(1639).A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},8942:(e,a,s)=>{s.r(a),s.d(a,{default:()=>x});var t=s(5043),l=s(4292),r=s(2555),c=s(614),o=s(1360),i=s(1990),d=s(8693),n=s(9855),m=s(579);const g=e=>{let{isOpen:a,onClose:l}=e;const[g,x]=(0,t.useState)("add"),[h,p]=(0,t.useState)([]),[u,b]=(0,t.useState)({name:"",price:"",category:"tech",image:"",description:""}),y=async()=>{try{const{productService:e}=await Promise.all([s.e(466),s.e(565)]).then(s.bind(s,6565)),a=await e.getProducts();p(a.map(e=>({id:e.id.toString(),name:e.name,price:"string"===typeof e.price?e.price:String(e.price),category:"regalos"===e.category?"gifts":"tecnologia"===e.category?"tech":"gifts",image:e.image,description:e.description})))}catch(e){console.error("Error loading products:",e)}};if((0,t.useEffect)(()=>{y()},[]),!a)return null;return(0,m.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:(0,m.jsxs)("div",{className:"bg-white rounded-lg w-full max-w-6xl h-[90vh] flex overflow-hidden",children:[(0,m.jsxs)("div",{className:"w-64 bg-gray-100 p-4",children:[(0,m.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,m.jsx)("h1",{className:"text-xl font-bold",children:"Admin Panel"}),(0,m.jsx)("button",{onClick:l,className:"text-gray-500 hover:text-gray-700",children:(0,m.jsx)(c.A,{className:"w-5 h-5"})})]}),(0,m.jsxs)("nav",{className:"space-y-2",children:[(0,m.jsxs)("button",{onClick:()=>x("add"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left ".concat("add"===g?"bg-yellow-200 text-yellow-800":"text-gray-600 hover:bg-blue-100"),children:[(0,m.jsx)(o.A,{className:"w-4 h-4"}),"Agregar Producto"]}),(0,m.jsxs)("button",{onClick:()=>x("view"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left ".concat("view"===g?"bg-yellow-200 text-yellow-800":"text-gray-600 hover:bg-blue-100"),children:[(0,m.jsx)(i.A,{className:"w-4 h-4"}),"Ver Productos (",h.length,")"]})]})]}),(0,m.jsxs)("div",{className:"flex-1 p-6 overflow-y-auto",children:["add"===g&&(0,m.jsxs)("div",{children:[(0,m.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Agregar Producto"}),(0,m.jsxs)("div",{className:"grid grid-cols-2 gap-4 max-w-2xl",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Nombre *"}),(0,m.jsx)("input",{type:"text",value:u.name,onChange:e=>b((0,r.A)((0,r.A)({},u),{},{name:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg",placeholder:"Nombre del producto"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Precio *"}),(0,m.jsx)("input",{type:"number",value:u.price,onChange:e=>b((0,r.A)((0,r.A)({},u),{},{price:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg",placeholder:"0"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Categor\xeda"}),(0,m.jsxs)("select",{value:u.category,onChange:e=>b((0,r.A)((0,r.A)({},u),{},{category:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg",children:[(0,m.jsx)("option",{value:"tech",children:"Tecnolog\xeda"}),(0,m.jsx)("option",{value:"gifts",children:"Regalos"})]})]}),(0,m.jsxs)("div",{className:"col-span-2",children:[(0,m.jsx)("label",{className:"block text-sm font-medium mb-2",children:"URL Imagen *"}),(0,m.jsx)("input",{type:"url",value:u.image,onChange:e=>b((0,r.A)((0,r.A)({},u),{},{image:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-lg",placeholder:"https://..."}),u.image&&(0,m.jsx)("img",{src:u.image,alt:"Preview",className:"mt-2 w-20 h-20 object-cover rounded"})]}),(0,m.jsxs)("div",{className:"col-span-2",children:[(0,m.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Descripci\xf3n"}),(0,m.jsx)("textarea",{value:u.description,onChange:e=>b((0,r.A)((0,r.A)({},u),{},{description:e.target.value})),rows:3,className:"w-full p-3 border border-gray-300 rounded-lg",placeholder:"Descripci\xf3n del producto"})]})]}),(0,m.jsx)("div",{className:"flex gap-3 mt-6",children:(0,m.jsxs)("button",{onClick:async()=>{if(u.name&&u.price&&u.image)try{const{productService:e}=await Promise.all([s.e(466),s.e(565)]).then(s.bind(s,6565)),a={name:u.name,price:"$".concat(parseFloat(u.price).toLocaleString()),category:"gifts"===u.category?"regalos":"tecnologia",image:u.image,description:u.description};await e.addProduct(a),await y(),b({name:"",price:"",category:"tech",image:"",description:""})}catch(e){console.error("Error saving product:",e)}},className:"px-6 py-3 bg-green-700 text-white rounded-lg flex items-center gap-2 hover:bg-green-800",children:[(0,m.jsx)(d.A,{className:"w-4 h-4"}),"Guardar en Firebase"]})})]}),"view"===g&&(0,m.jsxs)("div",{children:[(0,m.jsxs)("h2",{className:"text-2xl font-bold mb-6",children:["Productos en Firebase (",h.length,")"]}),0===h.length?(0,m.jsxs)("div",{className:"text-center py-12",children:[(0,m.jsx)(i.A,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),(0,m.jsx)("p",{className:"text-gray-500",children:"No hay productos en la base de datos"}),(0,m.jsx)("p",{className:"text-gray-400 text-sm",children:"Agrega productos usando el formulario"})]}):(0,m.jsx)("div",{className:"grid gap-4",children:h.map(e=>(0,m.jsxs)("div",{className:"border border-gray-300 rounded-lg p-4 flex items-center gap-4",children:[(0,m.jsx)("img",{src:e.image,alt:e.name,className:"w-16 h-16 object-cover rounded"}),(0,m.jsxs)("div",{className:"flex-1",children:[(0,m.jsx)("h3",{className:"font-bold",children:e.name}),(0,m.jsx)("p",{className:"text-gray-600 text-sm",children:e.description}),(0,m.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,m.jsx)("span",{className:"font-semibold text-green-600",children:e.price}),(0,m.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded capitalize",children:e.category})]})]}),(0,m.jsx)("button",{onClick:()=>(async e=>{try{const{productService:a}=await Promise.all([s.e(466),s.e(565)]).then(s.bind(s,6565));await a.deleteProduct(e),await y()}catch(a){console.error("Error deleting product:",a)}})(e.id),className:"text-red-600 hover:text-red-800 p-2",title:"Eliminar producto",children:(0,m.jsx)(n.A,{className:"w-5 h-5"})})]},e.id))})]})]})]})})},x=e=>{let{children:a}=e;const{isAdmin:s,logout:t}=(0,l.A)();return s?(0,m.jsx)(g,{isOpen:!0,onClose:t}):(0,m.jsx)(m.Fragment,{children:a})}},9855:(e,a,s)=>{s.d(a,{A:()=>t});const t=(0,s(1639).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=942.063e88d3.chunk.js.map