/*! For license information please see 198.d2c55ad2.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkcleopatra_regalos=self.webpackChunkcleopatra_regalos||[]).push([[198],{198:(e,a,s)=>{s.r(a),s.d(a,{default:()=>j});var r=s(2555),t=s(5043),l=s(12),c=s(9981),o=s(5469),i=s(4285),n=s(4459),d=s(5327),m=s(1286),u=s(8006);const x=(0,s(1639).A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var h=s(9354),p=s(8421),g=s(4292),y=s(4625),b=s(579);const j=()=>{const{colors:e}=(0,p.D)(),{user:a}=(0,g.A)(),s=(0,c.Zp)(),{cart:j,getCartTotal:f,clearCart:v,addToast:N}=(0,h.P)(),[w,C]=(0,t.useState)(1),[A,P]=(0,t.useState)(!1),[k,T]=(0,t.useState)({name:(null===a||void 0===a?void 0:a.name)||"",email:(null===a||void 0===a?void 0:a.email)||"",phone:"",address:"",city:"",department:"",zipCode:""}),[S,q]=(0,t.useState)({method:"card",cardNumber:"",expiryDate:"",cvv:"",cardName:""}),M=e=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(e),D=e=>{T((0,r.A)((0,r.A)({},k),{},{[e.target.name]:e.target.value}))},E=e=>{q((0,r.A)((0,r.A)({},S),{},{[e.target.name]:e.target.value}))};return 0===j.length?(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(y.A,{}),(0,b.jsx)("div",{className:"flex items-center justify-center p-4 min-h-[calc(100vh-4rem)]",children:(0,b.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold mb-4",style:{color:e.secondary},children:"No hay productos en el carrito"}),(0,b.jsxs)(c.N_,{to:"/",className:"inline-flex items-center px-6 py-3 rounded-lg text-white font-semibold",style:{backgroundColor:e.primary},children:[(0,b.jsx)(o.A,{className:"w-5 h-5 mr-2"}),"Ir a comprar"]})]})})]}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(y.A,{}),(0,b.jsx)("div",{className:"py-8",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)(c.N_,{to:"/cart",className:"inline-flex items-center text-gray-600 hover:text-gray-800 mb-6",children:[(0,b.jsx)(o.A,{className:"w-5 h-5 mr-2"}),"Volver al carrito"]}),(0,b.jsx)("h1",{className:"text-3xl font-bold",style:{color:e.secondary},children:"Finalizar Compra"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"flex items-center justify-center p-6 border-b bg-gray-50",children:(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2 ".concat(w>=1?"text-blue-600":"text-gray-400"),children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(w>=1?"bg-blue-600 text-white":"bg-gray-200"),children:"1"}),(0,b.jsx)("span",{className:"font-medium",children:"Env\xedo"})]}),(0,b.jsx)("div",{className:"w-8 h-px bg-gray-300"}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 ".concat(w>=2?"text-blue-600":"text-gray-400"),children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(w>=2?"bg-blue-600 text-white":"bg-gray-200"),children:"2"}),(0,b.jsx)("span",{className:"font-medium",children:"Pago"})]}),(0,b.jsx)("div",{className:"w-8 h-px bg-gray-300"}),(0,b.jsxs)("div",{className:"flex items-center space-x-2 ".concat(w>=3?"text-blue-600":"text-gray-400"),children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat(w>=3?"bg-blue-600 text-white":"bg-gray-200"),children:"3"}),(0,b.jsx)("span",{className:"font-medium",children:"Confirmaci\xf3n"})]})]})}),(0,b.jsxs)("div",{className:"p-8",children:[1===w&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,b.jsx)(i.A,{className:"w-5 h-5",style:{color:e.primary}}),(0,b.jsx)("h3",{className:"text-xl font-semibold",children:"Informaci\xf3n de Env\xedo"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Nombre Completo"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(n.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,b.jsx)("input",{type:"text",name:"name",value:k.name,onChange:D,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tu nombre completo"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Email"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,b.jsx)("input",{type:"email",name:"email",value:k.email,onChange:D,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"tu@email.com"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Tel\xe9fono"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(m.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,b.jsx)("input",{type:"tel",name:"phone",value:k.phone,onChange:D,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"300 123 4567"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Departamento"}),(0,b.jsxs)("select",{name:"department",value:k.department,onChange:D,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"",children:"Seleccionar departamento"}),["Amazonas","Antioquia","Arauca","Atl\xe1ntico","Bol\xedvar","Boyac\xe1","Caldas","Caquet\xe1","Casanare","Cauca","Cesar","Choc\xf3","C\xf3rdoba","Cundinamarca","Guain\xeda","Guaviare","Huila","La Guajira","Magdalena","Meta","Nari\xf1o","Norte de Santander","Putumayo","Quind\xedo","Risaralda","San Andr\xe9s y Providencia","Santander","Sucre","Tolima","Valle del Cauca","Vaup\xe9s","Vichada"].map(e=>(0,b.jsx)("option",{value:e,children:e},e))]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Ciudad"}),(0,b.jsx)("input",{type:"text",name:"city",value:k.city,onChange:D,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tu ciudad"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"C\xf3digo Postal"}),(0,b.jsx)("input",{type:"text",name:"zipCode",value:k.zipCode,onChange:D,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"110111"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Direcci\xf3n Completa"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(u.A,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),(0,b.jsx)("input",{type:"text",name:"address",value:k.address,onChange:D,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Calle 123 #45-67, Apartamento 8B"})]})]})]})]}),2===w&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,b.jsx)(x,{className:"w-5 h-5",style:{color:e.primary}}),(0,b.jsx)("h3",{className:"text-xl font-semibold",children:"M\xe9todo de Pago"})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-3",children:"Seleccionar m\xe9todo"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("label",{className:"border-2 rounded-lg p-4 cursor-pointer transition-colors ".concat("card"===S.method?"border-blue-500 bg-blue-50":"border-gray-200"),children:[(0,b.jsx)("input",{type:"radio",name:"method",value:"card",checked:"card"===S.method,onChange:E,className:"sr-only"}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(x,{className:"w-8 h-8 mx-auto mb-2"}),(0,b.jsx)("span",{className:"font-medium",children:"Tarjeta"})]})]}),(0,b.jsxs)("label",{className:"border-2 rounded-lg p-4 cursor-pointer transition-colors ".concat("pse"===S.method?"border-blue-500 bg-blue-50":"border-gray-200"),children:[(0,b.jsx)("input",{type:"radio",name:"method",value:"pse",checked:"pse"===S.method,onChange:E,className:"sr-only"}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-8 h-8 mx-auto mb-2 bg-green-500 rounded flex items-center justify-center text-white font-bold text-sm",children:"PSE"}),(0,b.jsx)("span",{className:"font-medium",children:"PSE"})]})]})]})]}),"card"===S.method&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"N\xfamero de Tarjeta"}),(0,b.jsx)("input",{type:"text",name:"cardNumber",value:S.cardNumber,onChange:E,required:!0,maxLength:19,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1234 5678 9012 3456"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Fecha de Vencimiento"}),(0,b.jsx)("input",{type:"text",name:"expiryDate",value:S.expiryDate,onChange:E,required:!0,maxLength:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"MM/YY"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"CVV"}),(0,b.jsx)("input",{type:"text",name:"cvv",value:S.cvv,onChange:E,required:!0,maxLength:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Nombre en la Tarjeta"}),(0,b.jsx)("input",{type:"text",name:"cardName",value:S.cardName,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nombre como aparece en la tarjeta"})]})]})]})]}),3===w&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-semibold mb-6",children:"Resumen del Pedido"}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,b.jsxs)("h4",{className:"font-semibold mb-3",children:["Productos (",j.length,")"]}),(0,b.jsx)("div",{className:"space-y-2",children:j.map(e=>(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsxs)("span",{children:[e.name," x",e.quantity]}),(0,b.jsx)("span",{children:M(parseFloat(e.price.toString().replace(/[$.,]/g,""))*e.quantity)})]},e.id))})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,b.jsx)("h4",{className:"font-semibold mb-3",children:"Env\xedo"}),(0,b.jsx)("p",{children:k.name}),(0,b.jsx)("p",{children:k.address}),(0,b.jsxs)("p",{children:[k.city,", ",k.department]}),(0,b.jsx)("p",{children:k.phone})]}),(0,b.jsx)("div",{className:"border-t pt-4",children:(0,b.jsxs)("div",{className:"flex justify-between text-xl font-bold",children:[(0,b.jsx)("span",{children:"Total:"}),(0,b.jsx)("span",{style:{color:e.primary},children:M(f())})]})})]})]})]}),(0,b.jsx)("div",{className:"border-t p-6 bg-gray-50",children:(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("button",{onClick:()=>w>1?C(w-1):s("/cart"),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:1===w?"Volver al carrito":"Anterior"}),w<3?(0,b.jsx)("button",{onClick:()=>C(w+1),disabled:1===w&&(!k.name||!k.email||!k.phone||!k.address),className:"px-8 py-3 text-white rounded-lg transition-colors disabled:opacity-50",style:{backgroundColor:e.primary},children:"Siguiente"}):(0,b.jsxs)("button",{onClick:async()=>{P(!0);try{await new Promise(e=>setTimeout(e,2e3));const e={id:Date.now().toString(),items:j,total:f(),shipping:k,payment:(0,r.A)((0,r.A)({},S),{},{cardNumber:"**** **** **** "+S.cardNumber.slice(-4)}),status:"confirmed",date:(new Date).toISOString()},a=JSON.parse(localStorage.getItem("cleopatra-orders")||"[]");a.push(e),localStorage.setItem("cleopatra-orders",JSON.stringify(a)),v(),N({type:"success",title:"\xa1Pedido confirmado!",message:"Tu pedido #".concat(e.id.slice(-6)," ha sido procesado exitosamente")}),s("/")}catch(e){N({type:"error",title:"Error en el pago",message:"Hubo un problema procesando tu pedido"})}finally{P(!1)}},disabled:A,className:"flex items-center space-x-2 px-8 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[A&&(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,b.jsx)("span",{children:A?"Procesando...":"Confirmar Pedido"})]})]})})]})]})})]})}},1286:(e,a,s)=>{s.d(a,{A:()=>r});const r=(0,s(1639).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},4285:(e,a,s)=>{s.d(a,{A:()=>r});const r=(0,s(1639).A)("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]])},4625:(e,a,s)=>{s.d(a,{A:()=>m});s(5043);var r=s(12),t=s(1403),l=s(9493),c=s(4459),o=s(8421),i=s(4292),n=s(9981),d=s(579);const m=()=>{const{colors:e}=(0,o.D)(),{user:a,logout:s}=(0,i.A)(),m=(0,n.Zp)(),u=()=>{m("/")};return(0,d.jsx)("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,d.jsx)("div",{className:"max-w-7xl mx-auto px-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,d.jsxs)(r.P.div,{whileHover:{scale:1.05},className:"flex items-center gap-3 cursor-pointer",onClick:u,children:[(0,d.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:e.primary},children:(0,d.jsx)("span",{className:"text-white font-bold text-lg",children:"C"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-lg font-bold",style:{color:e.secondary},children:"Cleopatra Regalos"}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Panel de Administraci\xf3n"})]})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[a&&(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsxs)("div",{className:"text-right",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-900",children:a.name}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"Administrador"})]}),(0,d.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,d.jsx)(c.A,{className:"w-4 h-4 text-gray-600"})})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(r.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100 transition-colors",title:"Ir al inicio",children:(0,d.jsx)(t.A,{className:"w-5 h-5"})}),(0,d.jsx)(r.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{s(),m("/")},className:"p-2 text-gray-600 hover:text-red-600 rounded-lg hover:bg-red-50 transition-colors",title:"Cerrar sesi\xf3n",children:(0,d.jsx)(l.A,{className:"w-5 h-5"})})]})]})]})})})}},5327:(e,a,s)=>{s.d(a,{A:()=>r});const r=(0,s(1639).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},8006:(e,a,s)=>{s.d(a,{A:()=>r});const r=(0,s(1639).A)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},9354:(e,a,s)=>{s.d(a,{P:()=>c});var r=s(2555),t=s(4131),l=s(4893);const c=(0,t.v)()((0,l.Zr)((e,a)=>({cart:[],addToCart:s=>e(e=>{const t=e.cart.find(e=>e.id===s.id),l={type:"success",title:"Producto agregado",message:"".concat(s.name," se agreg\xf3 al carrito"),icon:"cart"};return setTimeout(()=>{a().addToast(l)},100),t?{cart:e.cart.map(e=>e.id===s.id?(0,r.A)((0,r.A)({},e),{},{quantity:e.quantity+1}):e)}:{cart:[...e.cart,(0,r.A)((0,r.A)({},s),{},{quantity:1})]}}),removeFromCart:a=>e(e=>({cart:e.cart.filter(e=>e.id!==a)})),updateQuantity:(a,s)=>e(e=>({cart:s<=0?e.cart.filter(e=>e.id!==a):e.cart.map(e=>e.id===a?(0,r.A)((0,r.A)({},e),{},{quantity:s}):e)})),clearCart:()=>e({cart:[]}),getCartTotal:()=>{const{cart:e}=a();return e.reduce((e,a)=>e+("string"===typeof a.price?parseFloat(a.price.replace(/[$.,]/g,"")):a.price)*a.quantity,0)},getCartItemsCount:()=>{const{cart:e}=a();return e.reduce((e,a)=>e+a.quantity,0)},favorites:[],addToFavorites:s=>e(e=>{const r={type:"success",title:"Agregado a favoritos",message:"".concat(s.name," se agreg\xf3 a tus favoritos"),icon:"heart"};return setTimeout(()=>{a().addToast(r)},100),{favorites:[...e.favorites,s]}}),removeFromFavorites:s=>e(e=>{const r=e.favorites.find(e=>e.id===s);if(r){const e={type:"info",title:"Removido de favoritos",message:"".concat(r.name," se removi\xf3 de favoritos"),icon:"heart"};setTimeout(()=>{a().addToast(e)},100)}return{favorites:e.favorites.filter(e=>e.id!==s)}}),isFavorite:e=>{const{favorites:s}=a();return s.some(a=>a.id===e)},searchTerm:"",selectedCategory:"all",priceRange:[0,3e6],setSearchTerm:a=>e({searchTerm:a}),setSelectedCategory:a=>e({selectedCategory:a}),setPriceRange:a=>e({priceRange:a}),selectedProduct:null,setSelectedProduct:a=>e({selectedProduct:a}),toasts:[],addToast:a=>{const s=Date.now().toString(),t=(0,r.A)((0,r.A)({},a),{},{id:s});e(e=>({toasts:[...e.toasts,t]})),setTimeout(()=>{e(e=>({toasts:e.toasts.filter(e=>e.id!==s)}))},3e3)},removeToast:a=>e(e=>({toasts:e.toasts.filter(e=>e.id!==a)})),products:[],loading:!1,loadProducts:async()=>{e({loading:!0});try{const{productService:a}=await Promise.all([s.e(466),s.e(565)]).then(s.bind(s,6565)),r=await a.getProducts();e({products:r,loading:!1})}catch(a){console.error("Error loading products:",a),e({loading:!1})}},addProduct:async e=>{try{const{productService:r}=await Promise.all([s.e(466),s.e(565)]).then(s.bind(s,6565));await r.addProduct(e),a().loadProducts()}catch(r){console.error("Error adding product:",r)}},updateProduct:async(e,r)=>{try{const{productService:t}=await Promise.all([s.e(466),s.e(565)]).then(s.bind(s,6565));await t.updateProduct(e,r),a().loadProducts()}catch(t){console.error("Error updating product:",t)}},deleteProduct:async e=>{try{const{productService:r}=await Promise.all([s.e(466),s.e(565)]).then(s.bind(s,6565));await r.deleteProduct(e),a().loadProducts()}catch(r){console.error("Error deleting product:",r)}}}),{name:"cleopatra-store",partialize:e=>({cart:e.cart,favorites:e.favorites})}))}}]);
//# sourceMappingURL=198.d2c55ad2.chunk.js.map